"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[70],{4070:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ee});var n=o(2832),r=o(5033),a=o(3366),i=o(7462),l=o(7313),s=o(4146),c=o(1921),d=o(7551),u=o(7592),p=o(7342),h=o(1615),m=o(501),v=o(7430),g=o(2298);function x(e){return(0,g.Z)("MuiAlert",e)}const f=(0,v.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var j=o(7131),Z=o(4750),y=o(6417);const w=(0,Z.Z)((0,y.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),C=(0,Z.Z)((0,y.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),_=(0,Z.Z)((0,y.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),b=(0,Z.Z)((0,y.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var A=o(1251);const M=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],I=(0,u.ZP)(m.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,h.Z)(o.color||o.severity))]]}})((e=>{let{theme:t,ownerState:o}=e;const n="light"===t.palette.mode?d._j:d.$n,r="light"===t.palette.mode?d.$n:d._j,a=o.color||o.severity;return(0,i.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===o.variant&&{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:n(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(a,"StandardBg")]:r(t.palette[a].light,.9),["& .".concat(f.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}},a&&"outlined"===o.variant&&{color:t.vars?t.vars.palette.Alert["".concat(a,"Color")]:n(t.palette[a].light,.6),border:"1px solid ".concat((t.vars||t).palette[a].light),["& .".concat(f.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(a,"IconColor")]}:{color:t.palette[a].main}},a&&"filled"===o.variant&&(0,i.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)}))})),S=(0,u.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),k=(0,u.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),z=(0,u.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),L={success:(0,y.jsx)(w,{fontSize:"inherit"}),warning:(0,y.jsx)(C,{fontSize:"inherit"}),error:(0,y.jsx)(_,{fontSize:"inherit"}),info:(0,y.jsx)(b,{fontSize:"inherit"})},P=l.forwardRef((function(e,t){var o,n,r,l,d,u;const m=(0,p.Z)({props:e,name:"MuiAlert"}),{action:v,children:g,className:f,closeText:Z="Close",color:w,components:C={},componentsProps:_={},icon:b,iconMapping:P=L,onClose:R,role:E="alert",severity:N="success",slotProps:O={},slots:T={},variant:W="standard"}=m,B=(0,a.Z)(m,M),D=(0,i.Z)({},m,{color:w,severity:N,variant:W}),H=(e=>{const{variant:t,color:o,severity:n,classes:r}=e,a={root:["root","".concat(t).concat((0,h.Z)(o||n)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,c.Z)(a,x,r)})(D),F=null!=(o=null!=(n=T.closeButton)?n:C.CloseButton)?o:j.Z,V=null!=(r=null!=(l=T.closeIcon)?l:C.CloseIcon)?r:A.Z,q=null!=(d=O.closeButton)?d:_.closeButton,U=null!=(u=O.closeIcon)?u:_.closeIcon;return(0,y.jsxs)(I,(0,i.Z)({role:E,elevation:0,ownerState:D,className:(0,s.Z)(H.root,f),ref:t},B,{children:[!1!==b?(0,y.jsx)(S,{ownerState:D,className:H.icon,children:b||P[N]||L[N]}):null,(0,y.jsx)(k,{ownerState:D,className:H.message,children:g}),null!=v?(0,y.jsx)(z,{ownerState:D,className:H.action,children:v}):null,null==v&&R?(0,y.jsx)(z,{ownerState:D,className:H.action,children:(0,y.jsx)(F,(0,i.Z)({size:"small","aria-label":Z,title:Z,color:"inherit",onClick:R},q,{children:(0,y.jsx)(V,(0,i.Z)({fontSize:"small"},U))}))}):null]}))}));var R=o(3929),E=o(4758),N=o(3223),O=o(3875),T=o(2030),W=o(2389),B=o(2063),D=o(6677),H=o(5662),F=o(56);const V={admin_user_id:{label:"Enter User ID"},admin_password:{label:"Enter Password",type:"password"}},q=(e,t)=>{switch(e){case"admin_user_id":return(0,D.zO)(t[e]);case"admin_password":return(0,D.uo)(t[e]);default:return""}};var U=o(4757),$=o(8467),G=o(5554),J=o(7650),K=o(2703);const Q={admin_user_id:"",admin_password:""},X={admin_user_id:"",admin_password:""},Y=()=>{const{userInfo:e,token:t}=(0,G.v9)((e=>e.richPenny)),[o,a]=(0,l.useState)(Q),[i,s]=(0,l.useState)(X),c=(0,F.useMutation)((e=>(0,H.Z)({method:"POST",url:"/admin_login/",data:e.request}))),d=(0,$.s0)(),u=(0,G.I0)(),p=(0,$.TH)();(0,l.useEffect)((()=>{e&&t&&"/admin/login"===p.pathname&&d("/admin/home",{replace:!0})}),[p.pathname]);const h=(e,t)=>{const n={...o,[e]:t};a(n),s({...i,[e]:q(e,n)})};return(0,y.jsx)(U.Z,{backgroundImage:!0,children:(0,y.jsxs)(n.Z,{alignItems:"center",gap:5,children:[(0,y.jsx)(O.Z,{iconName:"DesktopResetLogo"}),(0,y.jsx)(r.Z,{in:c.isError,unmountOnExit:!0,children:(0,y.jsx)(P,{variant:"standard",severity:"error",icon:(0,y.jsx)(O.Z,{iconName:"WarningDanger"}),sx:{fontFamily:"inter",alignItems:"center"},children:"Incorrect User ID or Password. Try Again!"})}),(0,y.jsxs)(n.Z,{gap:4,width:"100%",alignItems:"center",children:[(0,y.jsx)(W.jb,{variant:"h4",color:"white",children:"Admin Dashboard Login"}),(0,y.jsxs)(n.Z,{gap:2,width:"100%",children:[Object.entries(V).map((e=>{const t=e[0],n=e[1];return(0,y.jsx)(T.Z,{fieldName:t,value:o[t],fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{".MuiTypography-subtitle1":{color:"white",fontFamily:"inter"},"& .MuiOutlinedInput-notchedOutline":{color:"white",borderColor:"white !important"},"& .MuiInputBase-input":{color:"white",height:27}},error:Boolean(i[t]),helperText:i[t]},fieldType:n.fieldType,onChange:h},t)})),(0,y.jsxs)(n.Z,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[(0,y.jsx)(R.Z,{control:(0,y.jsx)(E.Z,{sx:{color:"white !important"}}),label:(0,y.jsx)(W.jb,{color:"white",variant:"body2",children:"Remember me?"})}),(0,y.jsx)(N.Z,{variant:"text",size:"small",color:"ternary",sx:{height:"fit-content"},onClick:()=>{d("/admin/forgot-password")},children:(0,y.jsx)(W.jb,{variant:"body2",children:"Forgot Password?"})})]})]}),(0,y.jsx)(K.Z,{variant:"contained",size:"large",color:"ternary",fullWidth:!0,onClick:()=>{const e=(e=>(0,B.G)(e,q))(o);e.hasError?s(e.errors):c.mutateAsync({request:o}).then((e=>{var t,o,n;d("/admin/home",{replace:!0}),u((0,J.o4)(e.data.access_token)),u((0,J.ps)({id:null===(t=e.data.user_data)||void 0===t?void 0:t.admin_user_id,name:null===(o=e.data.user_data)||void 0===o?void 0:o.admin_name,avatar:null===(n=e.data.user_data)||void 0===n?void 0:n.admin_profile,email:e.data.user_data.email,mobile_no:e.data.user_data.mobile_no}))}))},loading:c.isLoading,sx:{height:"66px"},children:(0,y.jsx)(W.jb,{variant:"h5",fontWeight:600,children:"Login"})})]})]})})},ee=(0,l.memo)(Y)}}]);