"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[839],{564:(e,r,s)=>{s.d(r,{Z:()=>d});var t=s(4757),n=s(2832),a=s(3223),o=s(3875),i=s(2389),c=s(8467),l=s(6417);const d=e=>{const r=(0,c.s0)();return(0,l.jsx)(t.Z,{children:(0,l.jsxs)(n.Z,{alignItems:"center",gap:5,children:[(0,l.jsx)(o.Z,{iconName:"SuccessLogo"}),(0,l.jsxs)(n.Z,{gap:4,width:"100%",alignItems:"center",children:[(0,l.jsx)(i.jb,{variant:"h2",color:"#DAE0FF",children:"Success !"}),(0,l.jsx)(i.jb,{variant:"subtitle1",color:"white",children:e.message}),(0,l.jsx)(a.Z,{size:"large",variant:"contained",color:"ternary",onClick:()=>{r("/admin/login")},sx:{minWidth:436,height:66},children:(0,l.jsx)(i.jb,{variant:"h5",fontWeight:600,children:"Back to Login"})})]})]})})}},4839:(e,r,s)=>{s.r(r),s.d(r,{default:()=>y});var t=s(4757),n=s(2832),a=s(3223),o=s(3875),i=s(2389),c=s(7313),l=s(2063),d=s(6677),h=s(5662),u=s(56);const p={new_password:{label:"Enter  New Password",type:"password"},confirm_password:{label:"Re-Enter Password",type:"password"}},w=(e,r)=>{switch(e){case"new_password":return(0,d.uo)(r[e]);case"confirm_password":return(0,d.vw)(r[e],r.new_password);default:return""}};var g=s(2030),j=s(564),m=s(2135),x=s(5531),f=s(6417);const v={new_password:"",confirm_password:""},b={new_password:"",confirm_password:""},y=()=>{const{showSnackbar:e,hideSnackbar:r}=(0,x.Ds)(),[s]=(0,m.lr)(),d=(0,u.useMutation)((e=>(0,h.Z)({method:"POST",url:"/verify_otp_and_reset_password/",data:e.request}))),[y,_]=(0,c.useState)(v),[Z,k]=(0,c.useState)(b),S=(e,r)=>{const s={...y,[e]:r};_(s),k({...Z,[e]:w(e,s)})};return(0,f.jsx)(f.Fragment,{children:d.isSuccess?(0,f.jsx)(j.Z,{message:"Password reset successfully"}):(0,f.jsx)(t.Z,{backgroundImage:!0,children:(0,f.jsxs)(n.Z,{alignItems:"center",gap:5,children:[(0,f.jsx)(o.Z,{iconName:"DesktopResetLogo"}),(0,f.jsxs)(n.Z,{gap:2,width:"100%",alignItems:"center",children:[(0,f.jsx)(i.jb,{variant:"h4",color:"white",children:"Reset Password"}),(0,f.jsx)(i.jb,{variant:"subtitle1",color:"white",children:"Enter your Details and we\u2019ll send you an email with instructions to reset your password."})]}),(0,f.jsxs)(n.Z,{gap:4,width:"70%",alignItems:"center",children:[(0,f.jsx)(n.Z,{gap:2,width:"100%",children:Object.entries(p).map((e=>{const r=e[0],s=e[1];return(0,f.jsx)(g.Z,{fieldName:r,value:y[r],fieldProps:{...s,color:"secondary",fullWidth:!0,sx:{".MuiTypography-subtitle1":{color:"white",fontFamily:"inter"},"& .MuiOutlinedInput-notchedOutline":{color:"white",borderColor:"white !important"},"& .MuiInputBase-input":{color:"white",height:27}},error:Boolean(Z[r]),helperText:Z[r]},fieldType:s.fieldType,onChange:S},r)}))}),(0,f.jsx)(a.Z,{variant:"contained",size:"large",color:"ternary",fullWidth:!0,onClick:()=>{const t=(e=>(0,l.G)(e,w))(y);t.hasError?k(t.errors):d.mutateAsync({request:{...y,otp:null===s||void 0===s?void 0:s.get("key")}}).catch((s=>{var t,n;e({title:"Error!",variant:"error",content:null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,onCancel:()=>r()})}))},sx:{height:"66px"},children:(0,f.jsx)(i.jb,{variant:"h5",fontWeight:600,children:"Submit"})})]})]})})})}}}]);