"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[323],{4812:(e,a,t)=>{t.d(a,{q:()=>v});var o=t(2832),n=t(9536),i=t(1685),l=t(1806),d=t(3875),r=(t(816),t(2389)),s=t(3208),c=t(7238),u=t(7426),x=t(9550),h=t(6417);const v=e=>{var a,t,v,p,g,f;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.Z,{flexDirection:"row",border:"1px solid #E5E5E5",borderRadius:"40px",alignItems:"center",height:24,children:[(0,h.jsx)(d.Z,{iconName:"ChevronRight",iconProps:{width:28,height:20,fill:"black",transform:"rotate(180 0 0)",onClick:e.onLeftClick,cursor:"pointer"}}),(0,h.jsx)(n.Z,{orientation:"vertical",sx:{borderColor:"#E5E5E5"}}),(0,h.jsxs)(o.Z,{gap:.5,flexDirection:"row",alignItems:"center",paddingX:1,onClick:e.onCalenderClick,sx:{cursor:"pointer"},children:[(0,h.jsx)(d.Z,{iconName:"Calender2"}),(0,h.jsx)(r.jb,{fontSize:"7px",children:null===(a=e.date)||void 0===a?void 0:a.get("year")})]}),(0,h.jsx)(n.Z,{orientation:"vertical",sx:{borderColor:"#E5E5E5"}}),(0,h.jsx)(d.Z,{iconName:"ChevronRight",iconProps:{width:28,height:20,fill:"black",onClick:e.onRightClick,cursor:"pointer"}})]}),e.show&&e.anchorEl&&(0,h.jsx)(i.d,{onClickAway:e.handleClose,children:(0,h.jsx)(l.Z,{zIndex:100,position:"fixed",top:"".concat((null!==(t=null===(v=e.anchorEl)||void 0===v?void 0:v.getBoundingClientRect().top)&&void 0!==t?t:0)+20,"px"),left:(null===(p=e.anchorEl)||void 0===p?void 0:p.getBoundingClientRect().left)-100-(null!==(g=e.position)&&void 0!==g&&g.left?null===(f=e.position)||void 0===f?void 0:f.left:0),boxShadow:"0px 2px 8px 0px #00000026",children:(0,h.jsx)(s._,{dateAdapter:u.Q,children:(0,h.jsx)(x.C,{components:["DatePicker"],sx:{flexDirection:"column-reverse !important",overflow:"hidden",padding:"inherit"},children:(0,h.jsx)(c.w,{value:e.date,views:["year"],onChange:e.onChange,sx:{"& .MuiPickersLayout-actionBar":{display:"none"}}})})})})})]})}},8323:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var o=t(9620),n=t(4812),i=t(3875),l=t(2389),d=t(6359),r=t(5662),s=t(56);var c=t(9860),u=t(2832),x=t(6212),h=t(8173),v=t(816),p=t.n(v),g=t(7313),f=t(8446),j=t(6417);const y=["Daily","Monthly","Quarterly"],m=()=>{var e,a,t,v,m,b,C,w,Z,_,k,E,D,T,M,N,R,S,A,B,z,L,G,K,P,F,Q,q,I,U,V,W,Y,X,H,J,O,$,ee,ae,te,oe,ne,ie,le,de,re,se;(0,d.Q)(d.D.dashboard);const ce=(0,c.Z)(),[ue,xe]=(0,g.useState)(null),[he,ve]=(0,g.useState)({date:p()(),type:"Daily"}),[pe,ge]=(0,g.useState)({date:p()(),type:"Daily"}),[fe,je]=(0,g.useState)({date:p()(),type:"Daily"}),ye=(0,s.useQuery)(["get_dashboard_count"],(()=>(0,r.Z)({method:"GET",url:"/dashboard_restaurant_count/"}))),me=(be={filter:fe.type.toLowerCase(),calendar:"year",year:null===(e=fe.date)||void 0===e?void 0:e.get("year").toString(),month:null===(a=fe.date)||void 0===a?void 0:a.format("MMMM")},(0,s.useQuery)(["total_restaurantGraph_count",be],(()=>(0,r.Z)({method:"GET",url:"/total_restaurantGraph_count/",params:be}))));var be;const Ce=(e=>(0,s.useQuery)(["total_userGraph_count",e],(()=>(0,r.Z)({method:"GET",url:"/total_userGraph_count/",params:e}))))({filter:pe.type.toLowerCase(),calendar:"year",year:null===(t=pe.date)||void 0===t?void 0:t.get("year").toString(),month:null===(v=pe.date)||void 0===v?void 0:v.format("MMMM")}),we=(e=>(0,s.useQuery)(["total_transaction_admingraph",e],(()=>(0,r.Z)({method:"GET",url:"/total_transaction_admingraph/",params:e}))))({filter:he.type.toLowerCase(),calendar:"year",year:null===(m=he.date)||void 0===m?void 0:m.get("year").toString()});return(0,j.jsxs)(u.Z,{gap:2,flexGrow:"inherit",children:[(0,j.jsxs)(u.Z,{gap:1,children:[(0,j.jsxs)(u.Z,{flexDirection:"row",gap:12,children:[(0,j.jsxs)(u.Z,{gap:2,flexDirection:"row",children:[(0,j.jsx)(o.fK,{heading:"Total Investment",content:"\u20b9".concat(null!==(b=null===(C=ye.data)||void 0===C?void 0:C.data.data.total_investment)&&void 0!==b?b:"NA")}),(0,j.jsx)(o.fK,{heading:"Total Profit",content:"\u20b9".concat(null!==(w=null===(Z=ye.data)||void 0===Z?void 0:Z.data.data.total_profit)&&void 0!==w?w:"NA")})]}),(0,j.jsxs)(u.Z,{gap:2,flexDirection:"row",children:[(0,j.jsx)(o.fK,{heading:"Total Revenue",content:"\u20b9".concat(null!==(_=null===(k=ye.data)||void 0===k?void 0:k.data.data.total_revenue)&&void 0!==_?_:"NA")}),(0,j.jsx)(o.fK,{heading:"Today\u2019s Revenue",content:"\u20b9".concat(null!==(E=null===(D=ye.data)||void 0===D?void 0:D.data.data.todays_revenue_count)&&void 0!==E?E:"NA")})]}),(0,j.jsxs)(u.Z,{gap:2,flexDirection:"row",children:[(0,j.jsx)(o.fK,{heading:"Total Restaurants",content:null!==(T=null===(M=ye.data)||void 0===M?void 0:M.data.data.added_restaurant_count)&&void 0!==T?T:"NA"}),(0,j.jsx)(o.fK,{heading:"Active Restaurant",content:null!==(N=null===(R=ye.data)||void 0===R?void 0:R.data.data.active_restaurant_count)&&void 0!==N?N:"NA"})]})]}),(0,j.jsx)(u.Z,{flexDirection:"row",gap:12,children:(0,j.jsxs)(u.Z,{gap:2,flexDirection:"row",children:[(0,j.jsx)(o.fK,{heading:"Total Users",content:null!==(S=null===(A=ye.data)||void 0===A?void 0:A.data.data.total_users)&&void 0!==S?S:"NA"}),(0,j.jsx)(o.fK,{heading:"New Users - ".concat(p()(new Date).format("MMM")," ").concat(p()(new Date).format("YY")),content:null!==(B=null===(z=ye.data)||void 0===z?void 0:z.data.data.new_users)&&void 0!==B?B:"NA"})]})})]}),(0,j.jsxs)(u.Z,{flexDirection:"row",gap:8,children:[(0,j.jsxs)(u.Z,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",gap:2,children:[(0,j.jsxs)(u.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,j.jsx)(l.jb,{fontWeight:600,variant:"subtitle1",children:"Total Transactions"}),(0,j.jsxs)(u.Z,{gap:1,flexDirection:"row",children:[y.filter((e=>"Monthly"===e||"Daily"===e)).map((e=>(0,j.jsx)(x.Z,{size:"small",label:e,sx:{fontSize:7,backgroundColor:he.type===e?"#E7EBFE":"transparent"},onClick:()=>ve({...he,type:e})},e))),(0,j.jsx)(n.q,{onRightClick:()=>ve({...he,date:p()(he.date).add(1,"year")}),onLeftClick:()=>ve({...he,date:p()(he.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:1}),onChange:e=>{ve({...he,date:e}),xe(null)},show:Boolean(ue)&&1===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:he.date}),(0,j.jsx)(i.Z,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]})]}),(0,j.jsx)(f.Z,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(L=null===(G=we.data)||void 0===G||null===(K=G.data.data)||void 0===K?void 0:K.x_axis)&&void 0!==L?L:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.x1)(null!==(P=null===(F=we.data)||void 0===F||null===(Q=F.data.data)||void 0===Q?void 0:Q.y_axis)&&void 0!==P?P:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Transactions",data:null!==(q=null===(I=we.data)||void 0===I||null===(U=I.data.data)||void 0===U?void 0:U.y_axis)&&void 0!==q?q:[]}],type:"area",height:365})]}),(0,j.jsx)(u.Z,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",children:(0,j.jsxs)(u.Z,{gap:2,children:[(0,j.jsxs)(u.Z,{justifyContent:"space-between",flexDirection:"row",children:[(0,j.jsx)(l.jb,{fontWeight:600,variant:"subtitle1",children:"Total Users"}),(0,j.jsx)(i.Z,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]}),(0,j.jsxs)(u.Z,{justifyContent:"space-between",flexDirection:"row",children:[(0,j.jsx)(u.Z,{gap:1,flexDirection:"row",children:y.map((e=>(0,j.jsx)(x.Z,{size:"medium",label:e,sx:{fontSize:10,height:27,backgroundColor:pe.type===e?"#E7EBFE":"transparent"},onClick:()=>ge({...pe,type:e})},e)))}),(0,j.jsx)(n.q,{onRightClick:()=>ge({...pe,date:p()(pe.date).add(1,"year")}),onLeftClick:()=>ge({...pe,date:p()(pe.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:2}),onChange:e=>{ge({...pe,date:e}),xe(null)},show:Boolean(ue)&&2===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:pe.date})]}),(0,j.jsx)(f.Z,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(V=null===(W=Ce.data)||void 0===W||null===(Y=W.data.data)||void 0===Y?void 0:Y.x_axis)&&void 0!==V?V:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.x1)(null!==(X=null===(H=Ce.data)||void 0===H||null===(J=H.data.data)||void 0===J?void 0:J.y_axis)&&void 0!==X?X:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Users",data:null!==(O=null===($=Ce.data)||void 0===$||null===(ee=$.data.data)||void 0===ee?void 0:ee.y_axis)&&void 0!==O?O:[]}],type:"bar",height:321})]})}),(0,j.jsx)(u.Z,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",children:(0,j.jsxs)(u.Z,{gap:2,children:[(0,j.jsxs)(u.Z,{justifyContent:"space-between",flexDirection:"row",children:[(0,j.jsx)(l.jb,{fontWeight:600,variant:"subtitle1",children:"Total Restaurants"}),(0,j.jsx)(i.Z,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]}),(0,j.jsxs)(u.Z,{justifyContent:"space-between",flexDirection:"row",children:[(0,j.jsx)(u.Z,{gap:1,flexDirection:"row",children:y.map((e=>(0,j.jsx)(x.Z,{size:"medium",label:e,sx:{fontSize:10,height:27,backgroundColor:fe.type===e?"#E7EBFE":"transparent"},onClick:()=>je({...fe,type:e})},e)))}),(0,j.jsx)(n.q,{onRightClick:()=>je({...fe,date:p()(fe.date).add(1,"year")}),onLeftClick:()=>je({...fe,date:p()(fe.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:3}),onChange:e=>{je({...fe,date:e}),xe(null)},show:Boolean(ue)&&3===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:fe.date,position:{left:100}})]}),(0,j.jsx)(f.Z,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(ae=null===(te=me.data)||void 0===te||null===(oe=te.data.data)||void 0===oe?void 0:oe.x_axis)&&void 0!==ae?ae:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.x1)(null!==(ne=null===(ie=me.data)||void 0===ie||null===(le=ie.data.data)||void 0===le?void 0:le.y_axis)&&void 0!==ne?ne:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Restaurants",data:null!==(de=null===(re=me.data)||void 0===re||null===(se=re.data.data)||void 0===se?void 0:se.y_axis)&&void 0!==de?de:[]}],type:"bar",height:321})]})})]})]})},b=(0,g.memo)(m)}}]);