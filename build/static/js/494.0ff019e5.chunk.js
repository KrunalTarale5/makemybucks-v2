"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[494],{4757:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(7313),r=a(9860),o=a(1806),i=a(5908),l=a(9289),s=a(7825),d=a(7131),c=a(9417),u=a(7685),m=a(3875),p=a(2389),h=a(8467),v=a(6417);const x=e=>{const t=(0,h.s0)(),a=(0,r.Z)();return(0,v.jsxs)(o.Z,{sx:{background:a.palette.primary.main,height:"inherit",...e.backgroundImage&&{backgroundImage:"url(".concat(c.Z,"), url(").concat(u.Z,")"),backgroundRepeat:"no-repeat",backgroundPosition:"top left, bottom right"},display:"flex",justifyContent:"center",alignItems:"center",...e.sx},children:[e.isAppbar&&(0,v.jsx)(i.Z,{color:"transparent",sx:{placeContent:"flex-end",boxShadow:"none"},children:(0,v.jsxs)(l.Z,{component:s.Z,maxWidth:"xs",children:[(0,v.jsx)(d.Z,{sx:{paddingY:1.5},onClick:()=>t(-1),children:(0,v.jsx)(m.Z,{iconName:"ArrowBack",iconProps:{fill:"white"}})}),(0,v.jsx)(p.KH,{variant:"subtitle1",sx:{color:"white"},children:"Back"})]})}),e.children]})},_=(0,n.memo)(x)},9620:(e,t,a)=>{a.d(t,{$m:()=>s,fK:()=>l});var n=a(501),r=a(2389),o=a(7313),i=a(6417);const l=(0,o.memo)((e=>(0,i.jsxs)(n.Z,{sx:{width:230,padding:3,paddingY:2,display:"flex",gap:2,flexDirection:"column",boxShadow:"0px 10px 30px 0px #1126920D","&:hover":{boxShadow:"0px 2px 4px 0px #0000001F"},borderColor:"#EFF5FF",borderWidth:"1px",borderStyle:"solid",borderRadius:"8px",cursor:e.onClick?"pointer":"default",...e.sx},onClick:e.onClick,children:[(0,i.jsx)(r.jb,{variant:"subtitle1",className:"heading",children:e.heading}),(0,i.jsx)(r.KH,{variant:"h4",fontWeight:600,className:"content",children:e.content})]}))),s=(0,o.memo)((e=>(0,i.jsxs)(n.Z,{sx:{width:250,padding:4,paddingY:3,display:"flex",gap:4,flexDirection:"column",background:"#FAFBFF",borderWidth:"1px",borderStyle:"solid",borderColor:"#E4E4F7",borderRadius:"16px",boxShadow:"none",...e.sx},onClick:e.onClick,children:[(0,i.jsx)(r.KH,{variant:"subtitle1",className:"heading",fontWeight:500,children:e.heading}),(0,i.jsx)(r.KH,{variant:"h4",fontWeight:600,children:e.content})]})))},2368:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7313),r=a(6417);class o extends n.PureComponent{render(){var e,t;return(0,r.jsx)("table",{className:null===(e=this.props.classes)||void 0===e?void 0:e.root,children:(0,r.jsx)("tbody",{className:null===(t=this.props.classes)||void 0===t?void 0:t.tBody,children:this.props.data.map(((e,t)=>{var a,n,o,i,l;return e.showWhen&&(0,r.jsxs)("tr",{className:null===(a=this.props.classes)||void 0===a?void 0:a.tr,children:[(0,r.jsx)("td",{className:"tdName ".concat(null!==(n=this.props.classes)&&void 0!==n&&n.tdName?null===(o=this.props.classes)||void 0===o?void 0:o.tdName:""),children:e.name}),(0,r.jsx)("td",{className:"tdValue ".concat(null!==(i=this.props.classes)&&void 0!==i&&i.tdValue?null===(l=this.props.classes)||void 0===l?void 0:l.tdValue:""),children:e.value})]},t)}))})})}}const i=(0,n.memo)(o)},9255:(e,t,a)=>{a.d(t,{h:()=>w,G:()=>Z});var n=a(8606),r=a(7313),o=a(6677);a(56),a(8173);const i=(e,t)=>{switch(e){case"gst_no":return(0,o.yh)(t[e]);case"gst_no_url_pic":case"pan_no_url_pic":case"fssai_lic_no_url_pic":return(0,o.ap)(t[e]);case"pan_no":return(0,o.IZ)(t[e]);case"fssai_lic_no":return(0,o.OX)(t[e]);case"res_acc_holder_name":return(0,o.VN)(t[e]);case"bank_acc_no":return(0,o.Yb)(t[e]);case"bank_name":return(0,o.Ii)(t[e]);case"ifsc_no":return(0,o.pA)(t[e]);default:return""}};var l=a(2703),s=a(9860),d=a(4469),c=a(3604),u=a(7131),m=a(6467),p=a(2832),h=a(2368),v=a(2030),x=a(5531),_=a(2389),g=a(4801),b=a(2638),y=a(7155),f=a(3875),j=a(6417);const w=e=>{var t;const a=(0,s.Z)(),{showSnackbar:o,hideSnackbar:i}=(0,x.Ds)(),h=(0,n.TH)(),w=(0,g.G1)(),Z=(0,b.Vr)(),C=(0,y.Nv)(),[T,S]=(0,r.useState)(!1),[k,D]=(0,r.useState)(),G=e=>{switch(e){case"PAN":return"pan";case"GST Number":return"gst";case"FSSAI Licence":return"fssai";case"Bank Details":return"bank";case"Registration Certificate":return"registration_certificate";default:return""}};return(0,r.useEffect)((()=>{e.heading||(S(!1),D(void 0))}),[e.heading]),(0,j.jsxs)(d.Z,{onClose:e.handleClose,open:Boolean(e.heading),maxWidth:"sm",sx:{".MuiPaper-root":{width:"100%",minHeight:"50%"}},children:[(0,j.jsx)(c.Z,{children:(0,j.jsx)(_.KH,{variant:"h5",sx:{color:a.palette.common.primaryGreyText},children:T?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Z,{onClick:()=>S(!1),children:(0,j.jsx)(f.Z,{iconName:"ArrowBack"})}),"Document Rejection"]}):e.heading})}),(0,j.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"column",gap:10},children:[(0,j.jsx)(p.Z,{flex:"auto",children:T?(0,j.jsx)(v.Z,{fieldName:"selectedRejectReasons",value:null!==k&&void 0!==k?k:"",fieldType:"select",fieldProps:{color:"secondary",fullWidth:!0,label:"Select Reason For Rejection",required:!0,options:null===(t=C.data)||void 0===t?void 0:t.data.reject_reason_data.map((e=>({label:e.reject_reason,value:e.reject_reason}))),sx:{".MuiOutlinedInput-input":{paddingY:1}}},onChange:(e,t)=>D(t)}):e.render}),T?(0,j.jsx)(p.Z,{flexDirection:"row",gap:1,alignSelf:"end",children:(0,j.jsx)(l.Z,{variant:"contained",size:"large",sx:{width:166},loading:e.loading||h.isLoading||Z.isLoading,disabled:!k,onClick:()=>{"restaurent"!==e.useApi?"owner"!==e.useApi||Z.mutateAsync({request:{owner_id:e.id,owner_status:"reject",type:G(e.type),reject_reason:String(null===k||void 0===k?void 0:k.value)}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})})):h.mutateAsync({request:{restaurant_id:e.id,status:"reject",type:G(null===e||void 0===e?void 0:e.type),reject_reason:String(null===k||void 0===k?void 0:k.value)}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})}))},children:(0,j.jsx)(_.KH,{variant:"h5",children:"Reject"})})}):(0,j.jsx)(p.Z,{flexDirection:"row",gap:1,alignSelf:"center",children:e.isToUpdate?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{variant:"outlined",size:"large",sx:{width:166},onClick:e.handleClose,children:(0,j.jsx)(_.KH,{variant:"h5",sx:{color:a.palette.common.primaryGreyText},children:e.onUpdateClick?"Cancel":"Back"})}),e.onUpdateClick&&(0,j.jsx)(l.Z,{variant:"contained",size:"large",sx:{width:166},loading:e.loading||h.isLoading||Z.isLoading,onClick:t=>{var a;return null===(a=e.onUpdateClick)||void 0===a?void 0:a.call(e,e.type,t)},children:(0,j.jsx)(_.KH,{variant:"h5",children:"Update"})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{variant:e.disableReject?"contained":"outlined",size:"large",sx:{width:166},loading:e.loading||h.isLoading||Z.isLoading,disabled:e.disableReject,onClick:()=>{"user"!==e.useApi?"owner"!==e.useApi&&"restaurent"!==e.useApi||S(!0):w.mutateAsync({request:{user_id:e.id,KYC_Approval_status:"Pending"}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})}))},children:(0,j.jsx)(_.KH,{variant:"h5",sx:{...!e.disableReject&&{color:a.palette.common.primaryGreyText}},children:"Reject"})}),(0,j.jsx)(l.Z,{variant:"contained",size:"large",sx:{width:166},loading:e.loading||h.isLoading||Z.isLoading,disabled:e.disableAccept,onClick:()=>{"restaurent"!==e.useApi?"user"!==e.useApi?"owner"!==e.useApi||Z.mutateAsync({request:{owner_id:e.id,owner_status:"accept",type:G(e.type),reject_reason:""}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})})):w.mutateAsync({request:{user_id:e.id,KYC_Approval_status:"Verified"}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})})):h.mutateAsync({request:{restaurant_id:e.id,status:"accept",type:G(e.type),reject_reason:""}}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(n=e.refetch)||void 0===n||n.call(e),null===(r=e.handleClose)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})}))},children:(0,j.jsx)(_.KH,{variant:"h5",children:"Accept"})})]})})]})]})},Z=e=>{var t;const a=(0,s.Z)(),{showSnackbar:o,hideSnackbar:l}=(0,x.Ds)(),d=(0,n.gg)(),[c,u]=(0,r.useState)(null===(t=e.details)||void 0===t?void 0:t.bank_details),[m,g]=(0,r.useState)({}),b=(e,t)=>{let a={};a={...c,[e]:t},u((a=>({...a,[e]:t}))),g({...m,[e]:i(e,a)})};return(0,j.jsx)(w,{useApi:e.useType,id:e.id,isToUpdate:!0,loading:d.isLoading,render:(0,j.jsx)(p.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:3,".inputField-root":{gap:0}}},children:(0,j.jsx)(h.Z,{data:[{name:(0,j.jsxs)(p.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:"Account Holder Name "}),(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:":"})]}),value:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(v.Z,{showLabel:!1,fieldName:"res_acc_holder_name",value:null===c||void 0===c?void 0:c.res_acc_holder_name,fieldProps:{color:"secondary",fullWidth:!0,error:Boolean(m.res_acc_holder_name),helperText:m.res_acc_holder_name,sx:{".MuiOutlinedInput-input":{paddingY:1}}},onChange:b})}),showWhen:!0},{name:(0,j.jsxs)(p.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:"Bank Name"}),(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:":"})]}),value:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(v.Z,{showLabel:!1,fieldName:"bank_name",value:null===c||void 0===c?void 0:c.bank_name,fieldProps:{color:"secondary",fullWidth:!0,error:Boolean(m.bank_name),helperText:m.bank_name,sx:{".MuiOutlinedInput-input":{paddingY:1}}},onChange:b})}),showWhen:!0},{name:(0,j.jsxs)(p.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:"Account Number "}),(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:":"})]}),value:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(v.Z,{showLabel:!1,fieldName:"bank_acc_no",value:null===c||void 0===c?void 0:c.bank_acc_no,fieldProps:{color:"secondary",fullWidth:!0,error:Boolean(m.bank_acc_no),helperText:m.bank_acc_no,sx:{".MuiOutlinedInput-input":{paddingY:1}}},onChange:b})}),showWhen:!0},{name:(0,j.jsxs)(p.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:"IFSC"}),(0,j.jsx)(_.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:":"})]}),value:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(v.Z,{showLabel:!1,fieldName:"ifsc_no",value:null===c||void 0===c?void 0:c.ifsc_no,fieldProps:{color:"secondary",fullWidth:!0,error:Boolean(m.ifsc_no),helperText:m.ifsc_no,sx:{".MuiOutlinedInput-input":{paddingY:1}}},onChange:b})}),showWhen:!0}]})}),heading:"Update Bank Details",type:"Bank Details",handleClose:e.handleClose,onUpdateClick:()=>{d.mutateAsync({request:c,id:e.id}).then((t=>{var a,n,r;o({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>l()}),null===(n=e.handleClose)||void 0===n||n.call(e),null===(r=e.refetch)||void 0===r||r.call(e)})).catch((e=>{var t,a;o({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>l()})}))},disableAccept:null===e||void 0===e?void 0:e.disableAccept,disableReject:null===e||void 0===e?void 0:e.disableReject})}},2673:(e,t,a)=>{a.d(t,{s:()=>c});var n=a(9860),r=a(6923),o=a(3223),i=a(7313),l=a(3875),s=a(2389),d=a(6417);const c=(0,i.memo)((e=>{const t=(0,n.Z)();return(0,d.jsx)(r.ZP,{...e,sx:{".MuiDrawer-paper":{height:"60%",left:257,boxShadow:"0px -4px 8px 0px #00000026",borderTopRightRadius:8,borderTopLeftRadius:8,paddingX:10,paddingTop:6},...e.sx},anchor:"bottom",children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{variant:"text",size:"small",startIcon:(0,d.jsx)(l.Z,{iconName:"Cancel"}),sx:{position:"absolute",right:24,top:20,paddingY:0,paddingX:.25},onClick:t=>{var a;return null===e||void 0===e||null===(a=e.onClose)||void 0===a?void 0:a.call(e,t,"backdropClick")},children:(0,d.jsx)(s.KH,{variant:"subtitle1",color:t.palette.common.primaryGreyText,children:"Cancel"})}),e.children]})})}))},2097:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(7313),r=a(2832),o=a(7970),i=a(6417);const l=e=>(0,i.jsx)(r.Z,{flexDirection:"row",gap:2,alignSelf:"center",children:(0,i.jsx)(o.Z,{color:"primary",count:e.totalPages,page:e.page,defaultPage:1,onChange:(t,a)=>e.onPageChange(a,t),sx:{".MuiPaginationItem-previousNext":{backgroundColor:"#E1E2E9"},".MuiPaginationItem-icon":{fill:"#A9B0C3"}}})}),s=(0,n.memo)(l)},4014:(e,t,a)=>{a.d(t,{Z:()=>j});var n=a(9860),r=a(1629),o=a(501),i=a(6835),l=a(3477),s=a(4076),d=a(7478),c=a(4758),u=a(2832),m=a(3467),p=a(1806),h=a(5281),v=a(7131),x=a(7313),_=a(3875),g=a(2389),b=a(8173),y=a(6417);const f=e=>{const t=(0,n.Z)(),a=location.pathname.includes("/".concat(b.Vh,"/")),[v,f]=(0,x.useState)([]),[j,Z]=(0,x.useState)(null),C=t=>a=>{var n;a.stopPropagation();const r=v.indexOf(String(t));let o=[];-1===r?o=o.concat(v,String(t)):0===r?o=o.concat(v.slice(1)):r===v.length-1?o=o.concat(v.slice(0,-1)):r>0&&(o=o.concat(v.slice(0,r),v.slice(r+1))),f(o),null===(n=e.selectedRows)||void 0===n||n.call(e,e.rows.filter((e=>Object.values(e).some((e=>o.find((t=>t===String(e))))))))},T=(0,x.useCallback)((e=>-1!==v.indexOf(e)),[v]),S=t=>{var a;Z(t),null===(a=e.onSortChange)||void 0===a||a.call(e,t)};return(0,y.jsx)(r.Z,{component:o.Z,sx:{flexBasis:"1px",flexGrow:1,boxShadow:"none",".MuiTableCell-head":{background:"transparent"},".MuiTableCell-root":{paddingY:1,border:"none"},".MuiTableCell-body":{paddingY:1.25},".MuiTable-root":{borderCollapse:"collapse"},...e.sx},children:(0,y.jsxs)(i.Z,{stickyHeader:!0,...null===e||void 0===e?void 0:e.tableProps,children:[(0,y.jsx)(l.Z,{sx:{background:a?t.palette.secondary.main:"#E1EDFF",position:"initial",top:0,zIndex:1},children:(0,y.jsxs)(s.Z,{children:[e.checkboxSelection&&(0,y.jsx)(d.Z,{children:(0,y.jsx)(c.Z,{indeterminate:v.length>0&&v.length<e.rows.length,checked:e.rows.length>0&&v.length===e.rows.length,onChange:t=>{var a,n;if(t.target.checked)return f(e.rows.map((t=>String(e.rowId(t))))),void(null===(n=e.selectedRows)||void 0===n||n.call(e,e.rows));f([]),null===(a=e.selectedRows)||void 0===a||a.call(e,[])}})}),e.columns.map(((e,t)=>{var n;return(0,y.jsx)(d.Z,{sx:{"&:hover":{"& #no-column-sort":{visibility:"visible",opacity:.5,transition:".3s"}}},...e.tableHeaderProps,children:(0,y.jsxs)(u.Z,{flexDirection:"row",alignItems:"center",gap:1,sx:null===(n=e.tableHeaderProps)||void 0===n?void 0:n.sx,children:[(0,y.jsx)(g.KH,{variant:a?"subtitle2":"subtitle1",sx:{color:a?"#727198":"#61656E"},children:e.renderHeader({field:e.field,columnNumber:t})}),e.sortable&&(0,y.jsxs)(y.Fragment,{children:[e.field!==(null===j||void 0===j?void 0:j.field)&&(0,y.jsx)(w,{id:"no-column-sort",title:"Click to sort",onClick:()=>S({field:e.field,order:"asc"}),sx:{visibility:"hidden",opacity:0,transition:".3s"},children:(0,y.jsx)(_.Z,{iconName:"ChevronDown"})}),"asc"===(null===j||void 0===j?void 0:j.order)&&e.field===(null===j||void 0===j?void 0:j.field)&&(0,y.jsx)(w,{title:"Click to sort descending order",onClick:()=>S({field:e.field,order:"desc"}),children:(0,y.jsx)(_.Z,{iconName:"ChevronDown"})}),"desc"===(null===j||void 0===j?void 0:j.order)&&e.field===(null===j||void 0===j?void 0:j.field)&&(0,y.jsx)(w,{title:"Click to remove sort",onClick:()=>S(null),sx:{transform:"rotate(180deg)"},children:(0,y.jsx)(_.Z,{iconName:"ChevronDown"})})]})]})},t)}))]})}),(0,y.jsx)(m.Z,{children:e.loading?e.loadingComponent?e.loadingComponent:(0,y.jsx)(s.Z,{children:(0,y.jsx)(d.Z,{colSpan:e.columns.length,align:"center",children:(0,y.jsx)(p.Z,{display:"flex",flex:"auto",alignItems:"center",justifyContent:"center",sx:{position:"absolute",left:"50%",top:"50%"},children:(0,y.jsx)(h.Z,{size:60})})})}):0===e.rows.length?(0,y.jsx)(s.Z,{children:(0,y.jsx)(d.Z,{colSpan:e.columns.length,align:"center",children:(0,y.jsx)(g.KH,{variant:"h6",fontWeight:600,children:"Not Found"})})}):e.rows.map(((n,r)=>{const o=String(e.rowId(n)),i=T(o);return(0,y.jsxs)(s.Z,{sx:{"&:last-child td, &:last-child th":{border:0},backgroundColor:a?"#F8F8F9":"#F8FBFF",borderStyle:"solid",borderColor:"white",borderTopWidth:a?4:2,borderBottomWidth:a?4:2,...a&&{"& th:first-child":{borderRadius:"12px 0 0 12px"},"& th:last-child":{borderRadius:"0 12px 12px 0"}}},selected:e.checkboxSelection&&i,...null===e||void 0===e?void 0:e.tableRowProps,children:[e.checkboxSelection&&(0,y.jsx)(d.Z,{children:(0,y.jsx)(c.Z,{checked:i,onChange:C(o)})}),e.columns.map(((e,o)=>(0,y.jsx)(d.Z,{component:"th",scope:"row",...null===e||void 0===e?void 0:e.tableCellProps,children:(0,y.jsx)(g.KH,{sx:{fontFamily:"Poppins",fontSize:"16px",color:t.palette.common.primaryGreyText,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:a?600:500,...null===e||void 0===e?void 0:e.tableCellTypographySx},children:e.renderCell({row:n,rowNumber:r})})},o)))]},r)}))})]})})},j=(0,x.memo)(f),w=(0,x.memo)((e=>(0,y.jsx)(v.Z,{size:"small",color:"inherit",...e,title:void 0,sx:{padding:"2px",...e.sx}})))},1675:(e,t,a)=>{a.d(t,{CN:()=>f,EB:()=>w,Hh:()=>m,I1:()=>H,ML:()=>g,T3:()=>c,TD:()=>Z,Wz:()=>y,ab:()=>j,ae:()=>p,d_:()=>h,eV:()=>v,gw:()=>x,iB:()=>C,jn:()=>k,kb:()=>_,n8:()=>d,nq:()=>G,pB:()=>s,q8:()=>S,rQ:()=>u,vR:()=>b,wX:()=>T,x0:()=>D});var n=a(7313),r=a(2063),o=a(6677),i=a(5662),l=a(56);const s=["Basic Details","Address","Identity Proof","Assign Role"],d={first_name:{label:"First Name",required:!0},last_name:{label:"Last Name",required:!0},email:{label:"Email ID",type:"email",required:!0},reEmail:{label:"Re- Enter Email ID",type:"email",required:!0},mobile_no:{label:"Mobile Number",fieldType:"mobile-number",required:!0},personal_no:{label:"Personal Number",fieldType:"mobile-number",required:!0}},c={localAddress:{local_flat_no:{label:"Flat/Building",required:!0},local_street_name:{label:"Road/Street",required:!0},local_city:{label:"City",required:!0},local_pin_code:{label:"PIN Code",fieldType:"number",required:!0},local_state:{label:"State",required:!0,fieldType:"select",options:[]}},permanentAddress:{permanent_flat_no:{label:"Flat/Building",required:!0},permanent_street_name:{label:"Road/Street",required:!0},permanent_city:{label:"City",required:!0},permanent_pin_code:{label:"PIN Code",fieldType:"number",required:!0},permanent_state:{label:"State",required:!0,fieldType:"select",options:[]}}},u={aadhar_no:{label:"AADHAR Number",required:!0,fieldType:"number"},addhar_front_pic:{label:"Upload Aadhar Front",required:!0,fieldType:"upload"},addhar_back_pic:{label:"Upload Aadhar Back",required:!0,fieldType:"upload"}},m={assign_role:{label:"Assign Role",required:!0,fieldType:"select",options:[]},assign_work_location:{label:"Assign Work Location",required:!0,fieldType:"select",options:[]}},p=(0,n.createContext)({formData:{},setFormData:()=>{},activeStep:0,setActiveStep:e=>{}}),h=(e,t)=>{switch(e){case"local_flat_no":case"permanent_flat_no":return(0,o.QN)(t[e]);case"local_street_name":case"permanent_street_name":return(0,o.ed)(t[e]);case"local_city":case"permanent_city":return(0,o.vH)(t[e]);case"local_pin_code":case"permanent_pin_code":return(0,o.gk)(t[e]);case"local_state":case"permanent_state":return(0,o.Yu)(t[e]);default:return""}},v=(e,t)=>{switch(e){case"aadhar_no":return(0,o.Tn)(t[e]);case"addhar_back_pic":case"addhar_front_pic":return(0,o.ap)(t[e]);default:return""}},x=(e,t)=>{switch(e){case"assign_role":return(0,o.OR)(t[e]);case"assign_work_location":return(0,o.fX)(t[e]);default:return""}},_=(e,t)=>{switch(e){case"first_name":return(0,o.f9)(t[e]);case"last_name":return(0,o.Mj)(t[e]);case"email":return(0,o.oH)(t[e]);case"reEmail":return(0,o.mK)(t[e],t.email);case"mobile_no":return(0,o.SO)(t[e]);case"personal_no":return(0,o.zo)(t[e]);default:return""}},g=e=>(0,r.G)(e,h),b=e=>(0,r.G)(e,_),y=e=>(0,r.G)(e,v),f=e=>(0,r.G)(e,x),j=e=>{const t=new FormData;return Object.keys(e).forEach((a=>{"profile_pic"!==a&&"addhar_front_pic"!==a&&"addhar_back_pic"!==a&&t.append(a,e[a])})),e.profile_pic&&t.append("profile_pic",e.profile_pic[0],e.profile_pic[0].name),e.addhar_front_pic&&t.append("addhar_front_pic",e.addhar_front_pic[0],e.addhar_front_pic[0].name),e.addhar_back_pic&&t.append("addhar_back_pic",e.addhar_back_pic[0],e.addhar_back_pic[0].name),(0,i.Z)({method:"POST",url:"/add_subadmin/",data:t})},w=e=>(0,l.useQuery)(["sales-excecutive",e],(()=>(0,i.Z)({method:"GET",url:"/for_subadmin_detail/",params:e}))),Z=()=>(0,l.useQuery)(["get-subadmin-roles"],(()=>(0,i.Z)({method:"GET",url:"/get_subadmin_roles/"}))),C=()=>(0,l.useQuery)(["admin_dashboard_count"],(()=>(0,i.Z)({method:"GET",url:"/admin_dashboard_count/"}))),T=()=>(0,l.useQuery)(["get_work_location"],(()=>(0,i.Z)({method:"GET",url:"/get_work_location/"}))),S=()=>(0,l.useQuery)(["get_stateName"],(()=>(0,i.Z)({method:"GET",url:"/get_stateName/"}))),k=()=>(0,l.useMutation)((e=>(0,i.Z)({method:"POST",url:"/change_subadmin_status/",data:e}))),D=e=>(0,l.useQuery)(["get_subadmin_restaurant"],(()=>(0,i.Z)({method:"GET",url:"/get_subadmin_restaurant/".concat(e,"/")}))),G=()=>(0,l.useMutation)((e=>(0,i.Z)({method:"POST",url:"/verify_subadmin_contact_no/",data:e}))),H=()=>(0,l.useMutation)((e=>(0,i.Z)({method:"POST",url:"/verify_subadmin_aadhar/",data:e})))},6359:(e,t,a)=>{a.d(t,{D:()=>i,Q:()=>l});var n=a(7650),r=a(5554);const o={name:"Home",url:"/admin/home"},i={dashboard:{bannerName:"Dashboard",breadcrumbs:[o]},userManagement:{bannerName:"User Management",breadcrumbs:[o,{name:"user Management",url:"/admin/users"}]},qrManagement:{bannerName:"QR Management",breadcrumbs:[o,{name:"QR code"}]},restaurantManagement:{bannerName:"Restaurant Management",breadcrumbs:[o,{name:"Restaurant Management",url:"/admin/restaurants"}]},restaurantManagementUpdate:{bannerName:"Restaurant Management",breadcrumbs:[o,{name:"Restaurant Management",url:"/admin/restaurants"},{name:"Update"}]},subAdmin:{bannerName:"Sub Admin",breadcrumbs:[o,{name:"Sub Admin",url:"/admin/subadmin"}]},subAdminAdd:{bannerName:"Sub Admin",breadcrumbs:[o,{name:"Sub Admin",url:"/admin/subadmin"},{name:"Add"}]},subAdminUpdate:{bannerName:"Sub Admin",breadcrumbs:[o,{name:"Sub Admin",url:"/admin/subadmin"},{name:"Update"}]},masterList:{bannerName:"Master List",breadcrumbs:[o,{name:"Master List",url:"/admin/masterList"}]},reports:{bannerName:"Reports",breadcrumbs:[o,{name:"Reports",url:"/admin/reports"}]},withdrawal:{bannerName:"Withdrawal"},investment:{bannerName:"Investment",breadcrumbs:[o,{name:"Investment",url:"/admin/investment"}]},banners:{bannerName:"Banners",breadcrumbs:[o,{name:"Banners"}]},notifications:{bannerName:"Notifications"},settings:{bannerName:"Settings"},ownersManagement:{bannerName:"Owners Management",breadcrumbs:[o,{name:"Owners Management",url:"/admin/owners"}]},settlement:{bannerName:"Settlement",breadcrumbs:[o,{name:"Settlement",url:"/admin/settlement"}]}},l=e=>{(0,r.I0)()((0,n.u2)(e))}},7322:(e,t,a)=>{a.d(t,{Pv:()=>s,Uz:()=>d,WO:()=>c,Yk:()=>l});var n=a(2063),r=a(6677),o=a(5662),i=a(56);const l={admin_user_id:{label:"Enter User ID"},admin_email:{label:"Enter Registered Email ID",type:"email"}},s=(e,t)=>{switch(e){case"admin_user_id":return(0,r.zO)(t[e]);case"admin_email":return(0,r.oH)(t[e]);default:return""}},d=e=>(0,n.G)(e,s),c=()=>(0,i.useMutation)((e=>(0,o.Z)({method:"POST",url:"/forgot_password/",data:e.request})))},7155:(e,t,a)=>{a.d(t,{Dv:()=>u,EW:()=>b,Ff:()=>v,Gq:()=>x,JO:()=>j,Nv:()=>y,Ny:()=>i,QT:()=>f,RZ:()=>c,Uh:()=>_,Xo:()=>l,Zx:()=>h,c:()=>d,fC:()=>s,gZ:()=>g,p1:()=>m,uk:()=>o,yi:()=>p});var n=a(5662),r=a(56);const o=()=>(0,r.useQuery)(["get_restaurant_type"],(()=>(0,n.Z)({method:"GET",url:"/get_restaurant_type/"}))),i=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_restaurant_type/",data:e.request}))),l=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"PUT",url:"/update_restaurant_type/".concat(e.id,"/"),data:e.request}))),s=()=>(0,r.useQuery)(["get_Cuisine_type"],(()=>(0,n.Z)({method:"GET",url:"/get_cuisine_type/"}))),d=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_cuisine_type/",data:e.request}))),c=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"PUT",url:"/update_cuisine_type/".concat(e.id,"/"),data:e.request}))),u=()=>(0,r.useQuery)(["get_onbording_period"],(()=>(0,n.Z)({method:"GET",url:"/get_onbording_periods/"}))),m=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_onbording_period/",data:e.request}))),p=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"PUT",url:"/update_onbording_period/".concat(e.id,"/"),data:e.request}))),h=()=>(0,r.useQuery)(["get_location"],(()=>(0,n.Z)({method:"GET",url:"/get_location/"}))),v=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_location/",data:e.request}))),x=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/update_location/".concat(e.id,"/"),data:e.request}))),_=()=>(0,r.useQuery)(["get_msg_category"],(()=>(0,n.Z)({method:"GET",url:"/get_msg_category/"}))),g=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_msg_category/",data:e.request}))),b=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"PUT",url:"/update_msg_category/".concat(e.id,"/"),data:e.request}))),y=()=>(0,r.useQuery)(["get_rejection_reason"],(()=>(0,n.Z)({method:"GET",url:"/get_rejection_reason/"}))),f=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/add_rejection_reason/",data:e.request}))),j=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"PUT",url:"/update_rejection_reason/".concat(e.id,"/"),data:e.request})))},6600:(e,t,a)=>{a.d(t,{Ao:()=>d,Ky:()=>h,Zb:()=>p,a7:()=>u,ar:()=>c,dJ:()=>l,z8:()=>s,zE:()=>v,zm:()=>m});var n=a(2063),r=a(5662),o=a(56),i=a(6677);const l=e=>(0,o.useQuery)(["get_notification",e],(()=>(0,r.Z)({method:"GET",url:"/get_notification/",params:e}))),s=e=>(0,o.useQuery)(["get_notification_id",String(e)],(()=>(0,r.Z)({method:"GET",url:"/get_notification/".concat(e,"/")})),{enabled:Boolean(e)}),d=e=>(0,o.useMutation)((t=>{const a=new FormData;return Object.keys(t.request).forEach((e=>{"message_img"!==e&&a.append(e,t.request[e])})),t.request.message_img&&a.append("message_img",t.request.message_img[0],t.request.message_img[0].name),(0,r.Z)({method:"POST",url:e?"/send_notification_api/".concat(e,"/"):"/send_notification_api/",data:a})})),c=(e,t)=>{var a,n,r,o;switch(e){case"message_img":return"image"===t.message_body_type.value?(0,i.ap)(t[e]):"";case"message_title":return(0,i.NG)(t[e]);case"message_info_text":return(0,i.rg)(t[e]);case"message_category":return(0,i.DL)(t[e]);case"message_body_type":case"message_type":return(0,i.Ix)(t[e]);case"message_body":return"text"===t.message_body_type.value?(0,i.ac)(t[e]):"";case"hr":return"schedule send"===(null===(a=t.message_type)||void 0===a?void 0:a.value)?(0,i.Xy)(t[e]):"";case"min":return"schedule send"===(null===(n=t.message_type)||void 0===n?void 0:n.value)?(0,i.gO)(t[e]):"";case"ampm":return"schedule send"===(null===(r=t.message_type)||void 0===r?void 0:r.value)?(0,i.ce)(t[e]):"";case"ddmm":return"schedule send"===(null===(o=t.message_type)||void 0===o?void 0:o.value)?(0,i.CZ)(t[e]):"";default:return""}},u=e=>(0,n.G)(e,c),m=()=>(0,o.useQuery)(["get_msg_category"],(()=>(0,r.Z)({method:"GET",url:"/get_msg_category/"}))),p=()=>(0,o.useMutation)((e=>(0,r.Z)({method:"POST",url:"/quick_notification_api/".concat(e.id,"/"),data:e.request}))),h=()=>(0,o.useQuery)(["notification_status_api"],(()=>(0,r.Z)({method:"GET",url:"/notification_status_api/"})),{refetchInterval:6e4}),v=()=>(0,o.useMutation)((e=>{const t=new FormData;return Object.keys(e.request).forEach((a=>{t.append(a,e.request[a])})),(0,r.Z)({method:"POST",url:"/update_red_dot_status_api/",data:t})}))},2638:(e,t,a)=>{a.d(t,{Ti:()=>d,Vr:()=>s,Xw:()=>i,Y6:()=>l,xD:()=>o});var n=a(5662),r=a(56);const o=e=>(0,r.useQuery)(["get_owners",e],(()=>(0,n.Z)({method:"GET",url:"/get_restaurant_owner_details/",params:e}))),i=e=>(0,r.useQuery)(["get_owner_other_detail",e],(()=>(0,n.Z)({method:"GET",url:"/get_owner_other_detail/".concat(e,"/")}))),l=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/change_rest_owner_status/",data:e.request}))),s=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/update_owner_document_status/",data:e.request}))),d=()=>(0,r.useQuery)(["dashboard_owner_count"],(()=>(0,n.Z)({method:"GET",url:"/dashboard_owner_count/"})))},8606:(e,t,a)=>{a.d(t,{$_:()=>d,AB:()=>x,B1:()=>m,Hl:()=>_,J:()=>c,No:()=>h,TH:()=>u,Xp:()=>v,c_:()=>g,gg:()=>p,j0:()=>l,rv:()=>s});var n=a(5662),r=a(56),o=a(6677),i=a(2063);const l=e=>(0,r.useQuery)(["get_restaurents",e],(()=>(0,n.Z)({method:"GET",url:"/get_restaurant_detail/",params:e}))),s=e=>(0,r.useQuery)(["get_restaurents_details",e],(()=>(0,n.Z)({method:"GET",url:"/get_restaurant_detail/".concat(e,"/")})),{cacheTime:0}),d=()=>(0,r.useQuery)(["get_restaurents_count"],(()=>(0,n.Z)({method:"GET",url:"/dashboard_restaurant_count/"}))),c=e=>(0,r.useQuery)(["get_restaurant_other_detail"],(()=>(0,n.Z)({method:"GET",url:"/get_restaurant_other_detail/".concat(e,"/")}))),u=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/update_document_status/",data:e.request}))),m=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/change_restaurant_status/",data:e.request}))),p=()=>(0,r.useMutation)((e=>{const t=new FormData;return Object.keys(e.request).forEach((a=>{"applicable_days"!==a&&t.append(a,e.request[a])})),e.request.applicable_days&&t.append("applicable_days",JSON.stringify(e.request.applicable_days)),(0,n.Z)({method:"POST",url:"/update_restaurant/".concat(e.id,"/"),data:t})})),h=(e,t)=>(0,r.useQuery)(["get_menu_list_admin",e,t],(()=>(0,n.Z)({method:"GET",url:"/get_menu_list_admin/".concat(e,"/"),params:t}))),v=(e,t)=>{switch(e){case"res_acc_holder_name":return(0,o.VN)(t[e]);case"manager_name":return(0,o.Ol)(t[e]);case"manager_no":return(0,o.Y0)(t[e]);case"owner_email":return(0,o.oH)(t[e]);case"offer_list":return(0,o.W9)(t[e]);default:return""}},x=e=>(0,i.G)(e,v),_=e=>(0,r.useQuery)(["get_transaction_restaurant"],(()=>(0,n.Z)({method:"GET",url:"/get_transaction_restaurant/".concat(e,"/")}))),g=e=>(0,r.useQuery)(["dashboard_transaction_count"],(()=>(0,n.Z)({method:"GET",url:"/dashboard_transaction_count/".concat(e,"/")})))},4801:(e,t,a)=>{a.d(t,{Bc:()=>i,G1:()=>s,kX:()=>o,vj:()=>l});var n=a(5662),r=a(56);const o=e=>(0,r.useQuery)(["get_restaurents",e],(()=>(0,n.Z)({method:"GET",url:"/get_user_new/",params:e}))),i=e=>(0,r.useQuery)(["get_subadmin_restaurant"],(()=>(0,n.Z)({method:"GET",url:"/get_user_new/".concat(e,"/")}))),l=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/block_user/".concat(e.id,"/")}))),s=()=>(0,r.useMutation)((e=>(0,n.Z)({method:"POST",url:"/kyc_approval_status/",data:e.request})))},2063:(e,t,a)=>{function n(e,t){const a={hasError:!1,errors:{}};for(const n in e){const r=t(n,e);a.hasError=a.hasError?a.hasError:""!==r,a.errors={...a.errors,[n]:r}}return a}a.d(t,{G:()=>n})},3494:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ha});var n=a(4757),r=a(3875),o=a(2389),i=a(8173),l=a(7313),s=a(8467),d=a(9860),c=a(2832),u=a(4982),m=a(8490),p=a(315),h=a(7592),v=a(123),x=a(9701),_=a(2030),g=a(2063),b=a(6677),y=a(5662),f=a(56);const j={first_name:{label:"First Name",required:!0},last_name:{label:"Last Name",required:!0},email:{label:"Email ID",type:"email",required:!0},reEmail:{label:"Re- Enter Email ID",type:"email",required:!0},mobile_no:{label:"Mobile Number",fieldType:"mobile-number",required:!0},personal_no:{label:"Personal Number",fieldType:"mobile-number",required:!0}},w={local_flat_no:{label:"Flat/Building",required:!0},local_street_name:{label:"Road/Street",required:!0},local_city:{label:"City",required:!0},local_pin_code:{label:"PIN Code",fieldType:"number",required:!0},local_state:{label:"State",required:!0,fieldType:"select",options:[]}},Z={permanent_flat_no:{label:"Flat/Building",required:!0},permanent_street_name:{label:"Road/Street",required:!0},permanent_city:{label:"City",required:!0},permanent_pin_code:{label:"PIN Code",fieldType:"number",required:!0},permanent_state:{label:"State",required:!0,fieldType:"select",options:[]}},C={aadhar_no:{label:"AADHAR Number",required:!0,fieldType:"number",disabled:!0},addhar_front_pic:{label:"Upload Aadhar Front",required:!0,fieldType:"upload"},addhar_back_pic:{label:"Upload Aadhar Back",required:!0,fieldType:"upload"}},T={assign_role:{label:"Assign Role",required:!0,fieldType:"select",options:[]},assign_work_location:{label:"Assign Work Location",fieldType:"select",options:[],required:!0}},S=(0,l.createContext)({formData:{},setFormData:()=>{},activeStep:0,setActiveStep:e=>{}}),k=(e,t)=>{switch(e){case"local_flat_no":case"permanent_flat_no":return(0,b.QN)(t[e]);case"local_street_name":case"permanent_street_name":return(0,b.ed)(t[e]);case"local_city":case"permanent_city":return(0,b.vH)(t[e]);case"local_pin_code":case"permanent_pin_code":return(0,b.gk)(t[e]);case"local_state":case"permanent_state":return(0,b.Yu)(t[e]);default:return""}},D=(e,t)=>"aadhar_no"===e?(0,b.Tn)(t[e]):"",G=(e,t)=>{switch(e){case"assign_role":return(0,b.OR)(t[e]);case"assign_work_location":return(0,b.fX)(t[e]);default:return""}},H=(e,t)=>{switch(e){case"first_name":return(0,b.f9)(t[e]);case"last_name":return(0,b.Mj)(t[e]);case"email":return(0,b.oH)(t[e]);case"reEmail":return(0,b.mK)(t[e],t.email);case"mobile_no":return(0,b.SO)(t[e]);case"personal_no":return(0,b.zo)(t[e]);default:return""}};var A=a(9019),P=a(3929),q=a(4758),N=a(5953),K=a(1675),E=a(6417);const I={local_flat_no:"",local_street_name:"",local_city:"",local_pin_code:"",local_state:""},B={permanent_flat_no:"",permanent_street_name:"",permanent_city:"",permanent_pin_code:"",permanent_state:""},M=()=>{const e=(0,d.Z)(),t=(0,l.useContext)(S),a=(0,K.q8)(),[n,r]=(0,l.useState)({local_flat_no:null===(i=t.formData)||void 0===i?void 0:i.local_flat_no,local_street_name:null===i||void 0===i?void 0:i.local_street_name,local_city:null===i||void 0===i?void 0:i.local_city,local_pin_code:null===i||void 0===i?void 0:i.local_pin_code,local_state:null===i||void 0===i?void 0:i.local_state});var i;const[s,u]=(0,l.useState)((e=>({permanent_flat_no:null===e||void 0===e?void 0:e.permanent_flat_no,permanent_street_name:null===e||void 0===e?void 0:e.local_street_name,permanent_city:null===e||void 0===e?void 0:e.permanent_city,permanent_pin_code:null===e||void 0===e?void 0:e.permanent_pin_code,permanent_state:null===e||void 0===e?void 0:e.permanent_state}))(t.formData)),[m,p]=(0,l.useState)(I),[h,v]=(0,l.useState)(B);(0,l.useEffect)((()=>{var e,n,o,i,l,s;r({...t.formData,local_state:null===(e=a.data)||void 0===e?void 0:e.data.state_data.map((e=>({label:e.state_name,value:e.id}))).filter((e=>{var a;return e.label===(null===(a=t.formData)||void 0===a?void 0:a.local_state)}))[0]});const d="string"===typeof(null===(n=t.formData)||void 0===n?void 0:n.permanent_state)?null===(o=t.formData)||void 0===o?void 0:o.permanent_state:null===(i=t.formData)||void 0===i||null===(l=i.permanent_state)||void 0===l?void 0:l.label;u({...t.formData,permanent_state:null===(s=a.data)||void 0===s?void 0:s.data.state_data.map((e=>({label:e.state_name,value:e.id}))).filter((e=>e.label===d))[0]})}),[t.formData,a.dataUpdatedAt]);const x=(e,t,a)=>{let o={};if("number"===a){const a=(0,b.jp)(String(t));o={...n,[e]:a?t:n[e]}}else o={...n,[e]:t};r(o),p({...m,[e]:k(e,o)})},y=(e,t,a)=>{let n={};if("number"===a){const a=(0,b.jp)(String(t));n={...s,[e]:a?t:s[e]}}else n={...s,[e]:t};u(n),v({...h,[e]:k(e,n)})},f=e=>{const t={permanent_city:n.local_city,permanent_flat_no:n.local_flat_no,permanent_pin_code:n.local_pin_code,permanent_state:n.local_state,permanent_street_name:n.local_street_name};if(u(e.target.checked?{permanent_city:n.local_city,permanent_flat_no:n.local_flat_no,permanent_pin_code:n.local_pin_code,permanent_state:n.local_state,permanent_street_name:n.local_street_name}:{}),e.target.checked){const e=h;Object.keys(e).forEach((a=>{e[a]=k(a,{...s,...t})})),v({...h,...e})}},j=e=>{var t;switch(e){case"permanent_state":case"local_state":return null===(t=a.data)||void 0===t?void 0:t.data.state_data.map((e=>({label:e.state_name,value:e.id})))}};return(0,E.jsxs)(c.Z,{gap:6,alignItems:"flex-start",children:[(0,E.jsxs)(c.Z,{width:"100%",flexDirection:"row",children:[(0,E.jsx)(c.Z,{flexBasis:"50%",children:(0,E.jsxs)(c.Z,{sx:{width:"466px !important"},gap:3,children:[(0,E.jsx)(o.KH,{variant:"body1",fontWeight:600,textTransform:"uppercase",sx:{color:e.palette.common.secondaryGreyText},children:"Local Address"}),Object.entries(w).map((e=>{var t;const a=e[0],r=e[1];return("local_flat_no"===a||"local_street_name"===a)&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===n||void 0===n?void 0:n[a])&&void 0!==t?t:"",fieldProps:{...r,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(m[a]),helperText:m[a]},fieldType:r.fieldType,onChange:x},a)})),(0,E.jsx)(A.ZP,{container:!0,spacing:4,children:(0,E.jsx)(A.ZP,{item:!0,display:"inline-grid",gridTemplateColumns:"1.5fr 1fr",rowGap:3,columnGap:1,children:Object.entries(w).map((e=>{var t;const a=e[0],r=e[1];return("local_city"===a||"local_pin_code"===a)&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===n||void 0===n?void 0:n[a])&&void 0!==t?t:"",fieldProps:{...r,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(m[a]),helperText:m[a]},fieldType:r.fieldType,onChange:x},a)}))})}),Object.entries(w).map((e=>{var t;const a=e[0],r=e[1];return"local_state"===a&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===n||void 0===n?void 0:n[a])&&void 0!==t?t:"",fieldProps:{...r,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(m[a]),helperText:m[a]},fieldType:r.fieldType,onChange:x},a)}))]})}),(0,E.jsx)(c.Z,{flexBasis:"50%",children:(0,E.jsxs)(c.Z,{sx:{width:"466px !important"},gap:3,children:[(0,E.jsx)(o.KH,{variant:"body1",fontWeight:600,textTransform:"uppercase",sx:{color:e.palette.common.secondaryGreyText},children:"Permanent Address"}),Object.entries(Z).map((e=>{var t;const a=e[0],n=e[1];return("permanent_flat_no"===a||"permanent_street_name"===a)&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===s||void 0===s?void 0:s[a])&&void 0!==t?t:"",fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(h[a]),helperText:h[a]},fieldType:n.fieldType,onChange:y},a)})),(0,E.jsx)(A.ZP,{container:!0,spacing:4,children:(0,E.jsx)(A.ZP,{item:!0,display:"inline-grid",gridTemplateColumns:"1.5fr 1fr",rowGap:3,columnGap:1,children:Object.entries(Z).map((e=>{var t;const a=e[0],n=e[1];return("permanent_city"===a||"permanent_pin_code"===a)&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===s||void 0===s?void 0:s[a])&&void 0!==t?t:"",fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(h[a]),helperText:h[a]},fieldType:n.fieldType,onChange:y},a)}))})}),Object.entries(Z).map((e=>{var t;const a=e[0],n=e[1];return"permanent_state"===a&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===s||void 0===s?void 0:s[a])&&void 0!==t?t:"",fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},options:j(a),autoComplete:"off",error:Boolean(h[a]),helperText:h[a]},fieldType:n.fieldType,onChange:x,addons:"permanent_state"===a&&(0,E.jsx)(P.Z,{control:(0,E.jsx)(q.Z,{color:"primary",size:"small",onChange:f}),label:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Same as Local Address"})})},a)}))]})})]}),(0,E.jsx)(N.Z,{onNextClick:()=>{const e=(e=>(0,g.G)(e,k))({...n,...s});if(e.hasError)return p(e.errors),void v(e.errors);t.setFormData({...t.formData,...n,...s}),t.setActiveStep(t.activeStep+1)},onPreviousClick:()=>{t.setActiveStep(t.activeStep-1)}})]})},R=(0,l.memo)(M),W={aadhar_no:"",addhar_back_pic:"",addhar_front_pic:""},O=()=>{var e,t,a,n,r,o;const i=(0,l.useContext)(S),[s,d]=(0,l.useState)((e=>({aadhar_no:null===e||void 0===e?void 0:e.aadhar_no,addhar_front_pic:null===e||void 0===e?void 0:e.addhar_front_pic,addhar_back_pic:null===e||void 0===e?void 0:e.addhar_back_pic}))(i.formData)),[u,m]=(0,l.useState)(W);(0,l.useEffect)((()=>{d(i.formData)}),[i.formData]);const p=(e,t,a,n)=>{let r={};if("number"===a){const a=(0,b.jp)(String(t));if("aadhar_no"===e&&t.length>12)return;r={...s,[e]:a?t:s[e]}}else if("upload"===a){var o;r={...s,[e]:null===n||void 0===n||null===(o=n.target)||void 0===o?void 0:o.files}}else r={...s,[e]:t};d(r),m({...u,[e]:D(e,r)})};return(0,E.jsxs)(c.Z,{gap:6,alignItems:"flex-start",children:[(0,E.jsx)(A.ZP,{container:!0,spacing:4,children:(0,E.jsxs)(A.ZP,{item:!0,container:!0,xs:7,rowGap:3,children:[(0,E.jsx)(A.ZP,{item:!0,xs:6,children:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:2,alignItems:"self-end",children:[(0,E.jsx)(_.Z,{fieldName:"1",value:null===s||void 0===s||null===(e=s.aadhar_no)||void 0===e?void 0:e.substring(0,4),fieldProps:{...C.aadhar_no,color:"secondary",fullWidth:!0,id:"aadharNo-1",sx:{width:129,gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},error:Boolean(u.aadhar_no)},fieldType:null===(t=C.aadhar_no)||void 0===t?void 0:t.fieldType},"1"),(0,E.jsx)(_.Z,{fieldName:"2",value:null===s||void 0===s||null===(a=s.aadhar_no)||void 0===a?void 0:a.substring(4,8),fieldProps:{...C.aadhar_no,color:"secondary",fullWidth:!0,label:" ",required:!1,id:"aadharNo-2",sx:{width:129,gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},error:Boolean(u.aadhar_no)},fieldType:null===(n=C.aadhar_no)||void 0===n?void 0:n.fieldType},"2"),(0,E.jsx)(_.Z,{fieldName:"3",value:null===s||void 0===s||null===(r=s.aadhar_no)||void 0===r?void 0:r.substring(8,12),fieldProps:{...C.aadhar_no,color:"secondary",fullWidth:!0,label:" ",required:!1,id:"aadharNo-3",sx:{width:129,gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},error:Boolean(u.aadhar_no)},fieldType:null===(o=C.aadhar_no)||void 0===o?void 0:o.fieldType},"3")]})}),(0,E.jsx)(A.ZP,{container:!0,spacing:4,children:(0,E.jsx)(A.ZP,{item:!0,xs:12,display:"inline-grid",gridTemplateColumns:"1fr 1fr",rowGap:3,columnGap:2,children:Object.entries(C).map((e=>{var t;const a=e[0],n=e[1];return("addhar_front_pic"===a||"addhar_back_pic"===a)&&(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===s||void 0===s?void 0:s[a])&&void 0!==t?t:"",fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"},".uploader-container":{height:233,borderStyle:"solid",borderWidth:1,borderRadius:"4px"}},error:Boolean(u[a]),helperText:u[a]},fieldType:n.fieldType,onChange:p},a)}))})})]})}),(0,E.jsx)(N.Z,{onNextClick:()=>{const e=(e=>(0,g.G)(e,D))(s);e.hasError?m(e.errors):(i.setFormData({...i.formData,...s}),i.setActiveStep(i.activeStep+1))},onPreviousClick:()=>{i.setActiveStep(i.activeStep-1)}})]})},z=(0,l.memo)(O);var F=a(2368),L=a(5420),Q=a(5531);const U={assign_role:"",assign_work_location:""},Y=()=>{var e,t,a,n,r,i,u,m,p,h,v,x,b,f,j,w,Z,C,k,D,H,P,q,I;const B=(0,d.Z)(),M=(0,s.s0)(),{showSnackbar:R,hideSnackbar:W}=(0,Q.Ds)(),O=(0,l.useContext)(S),z=(0,K.TD)(),Y=(0,K.wX)(),[V,X]=(0,l.useState)((e=>({assign_role:null===e||void 0===e?void 0:e.assign_role,assign_work_location:null===e||void 0===e?void 0:e.assign_work_location}))(O.formData)),[$,J]=(0,l.useState)(U),[ee,te]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var e,t;X({...O.formData,assign_role:null===(e=z.data)||void 0===e?void 0:e.data.subAdminRolesData.map((e=>({label:e.roles,value:e.id}))).filter((e=>{var t;return e.label===(null===(t=O.formData)||void 0===t?void 0:t.assign_role)}))[0],assign_work_location:null===(t=Y.data)||void 0===t?void 0:t.data.location_data.map((e=>({label:e.location_name,value:e.id}))).filter((e=>{var t;return e.label===(null===(t=O.formData)||void 0===t?void 0:t.assign_work_location)}))[0]})}),[O.formData,z.dataUpdatedAt,Y.dataUpdatedAt]);const ae=(e,t)=>{let a={};a={...V,[e]:t},X(a),J({...$,[e]:G(e,a)})},ne=e=>{var t,a;switch(e){case"assign_role":return null===(t=z.data)||void 0===t?void 0:t.data.subAdminRolesData.map((e=>({label:e.roles,value:e.id})));case"assign_work_location":return null===(a=Y.data)||void 0===a?void 0:a.data.location_data.map((e=>({label:e.location_name,value:e.id})))}};return(0,E.jsxs)(c.Z,{gap:6,alignItems:"flex-start",children:[(0,E.jsxs)(c.Z,{width:"100%",flexDirection:"row",children:[(0,E.jsxs)(c.Z,{flexBasis:"55%",sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 24px"},"& td":{minWidth:"200px"},"& tr":{verticalAlign:"top"}},children:[(0,E.jsx)(F.Z,{data:[{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"ID:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:null===(e=O.formData)||void 0===e?void 0:e.user_id}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Name:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:"".concat(null===(t=O.formData)||void 0===t?void 0:t.first_name," ").concat(null===(a=O.formData)||void 0===a?void 0:a.last_name)}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Email ID:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:null===(n=O.formData)||void 0===n?void 0:n.email}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Phone Number:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:null===(r=O.formData)||void 0===r?void 0:r.mobile_no}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Personal Number:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:null===(i=O.formData)||void 0===i?void 0:i.personal_no}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Local Address:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:"".concat(null===(u=O.formData)||void 0===u?void 0:u.local_flat_no," ").concat(null===(m=O.formData)||void 0===m?void 0:m.local_street_name," ").concat(null===(p=O.formData)||void 0===p?void 0:p.local_city," ").concat(null!==(h=null===(v=O.formData)||void 0===v||null===(x=v.local_state)||void 0===x?void 0:x.label)&&void 0!==h?h:null===(b=O.formData)||void 0===b?void 0:b.local_state," ").concat(null===(f=O.formData)||void 0===f?void 0:f.local_pin_code," ")}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Permanent Address:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:"".concat(null===(j=O.formData)||void 0===j?void 0:j.permanent_flat_no," ").concat(null===(w=O.formData)||void 0===w?void 0:w.permanent_street_name," ").concat(null===(Z=O.formData)||void 0===Z?void 0:Z.permanent_city," ").concat(null!==(C=null===(k=O.formData)||void 0===k||null===(D=k.permanent_state)||void 0===D?void 0:D.label)&&void 0!==C?C:null===(H=O.formData)||void 0===H?void 0:H.permanent_state," ").concat(null===(P=O.formData)||void 0===P?void 0:P.permanent_pin_code)}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.secondaryGreyText},children:"Aadhar Number:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:B.palette.common.primaryGreyText},children:null===(q=O.formData)||void 0===q?void 0:q.aadhar_no}),showWhen:!0}]}),(0,E.jsx)(A.ZP,{container:!0,spacing:4,children:(0,E.jsx)(A.ZP,{item:!0,xs:10,display:"inline-grid",gridTemplateColumns:"1fr 1fr",rowGap:3,columnGap:2,children:Object.entries(T).map((e=>{var t;const a=e[0],n=e[1];return(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===V||void 0===V?void 0:V[a])&&void 0!==t?t:"",fieldProps:{...n,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},error:Boolean($[a]),helperText:$[a],options:ne(a)},fieldType:n.fieldType,onChange:ae},a)}))})})]}),(0,E.jsx)(c.Z,{flexBasis:"45%",children:(0,E.jsx)(A.ZP,{item:!0,xs:4,sx:{textAlign:"-webkit-center"},children:(0,E.jsx)(L.Z,{fieldName:"fieldName",sx:{placeContent:"flex-end",width:266,height:266},file:null===(I=O.formData)||void 0===I?void 0:I.profile_pic})})})]}),(0,E.jsx)(N.Z,{loading:ee,onUpdateClick:()=>{var e,t,a,n,r,o;const i=(e=>(0,g.G)(e,G))(V);i.hasError?J(i.errors):(te(!0),(e=>{const t=new FormData;return Object.keys(e).forEach((a=>{"profile_pic"!==a&&"addhar_front_pic"!==a&&"addhar_back_pic"!==a&&t.append(a,e[a])})),e.profile_pic&&"string"!==typeof e.profile_pic&&t.append("profile_pic",e.profile_pic[0],e.profile_pic[0].name),e.addhar_front_pic&&"string"!==typeof e.addhar_front_pic&&t.append("addhar_front_pic",e.addhar_front_pic[0],e.addhar_front_pic[0].name),e.addhar_back_pic&&"string"!==typeof e.addhar_back_pic&&t.append("addhar_back_pic",e.addhar_back_pic[0],e.addhar_back_pic[0].name),(0,y.Z)({method:"POST",url:"/update_subadmin/".concat(e.user_id,"/"),data:t})})({...O.formData,...V,assign_role:null===(e=V.assign_role)||void 0===e?void 0:e.label,assign_work_location:null===(t=V.assign_work_location)||void 0===t?void 0:t.label,local_state:null===(a=O.formData)||void 0===a||null===(n=a.local_state)||void 0===n?void 0:n.label,permanent_state:null===(r=O.formData)||void 0===r||null===(o=r.permanent_state)||void 0===o?void 0:o.label}).then((e=>{var t;R({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>W()}),M("/admin/subadmin"),te(!1)})).catch((e=>{var t,a;R({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>W()}),te(!1)})))},onPreviousClick:()=>{O.setActiveStep(O.activeStep-1)}})]})},V=(0,l.memo)(Y),X={first_name:"",last_name:"",email:"",reEmail:"",mobile_no:"",personal_no:"",profile_pic:""},$=()=>{const{showSnackbar:e,hideSnackbar:t}=(0,Q.Ds)(),a=(0,l.useContext)(S),[n,i]=(0,l.useState)((e=>({first_name:null===e||void 0===e?void 0:e.first_name,last_name:null===e||void 0===e?void 0:e.last_name,email:null===e||void 0===e?void 0:e.email,reEmail:null===e||void 0===e?void 0:e.email,mobile_no:null===e||void 0===e?void 0:e.mobile_no,personal_no:null===e||void 0===e?void 0:e.personal_no,profile_pic:null===e||void 0===e?void 0:e.profile_pic}))(a.formData)),[s,d]=(0,l.useState)(X),u=(0,K.nq)();(0,l.useEffect)((()=>{var e;i({...a.formData,reEmail:null===(e=a.formData)||void 0===e?void 0:e.email})}),[a.formData]);const m=(e,t,a)=>{let r={};if("number"===a){const a=(0,b.jp)(String(t));r={...n,[e]:a?t:n[e]}}else if("mobile-number"===a){const a=(0,b.yM)(String(t));r={...n,[e]:a?t:n[e]}}else r={...n,[e]:t};i(r),d({...s,[e]:H(e,r)})};return(0,E.jsxs)(c.Z,{gap:6,alignItems:"flex-start",children:[(0,E.jsxs)(A.ZP,{container:!0,spacing:4,children:[(0,E.jsx)(A.ZP,{item:!0,xs:7,display:"inline-grid",gridTemplateColumns:"1fr 1fr",rowGap:3,columnGap:2,children:Object.entries(j).map((e=>{var t;const a=e[0],r=e[1];return(0,E.jsx)(_.Z,{fieldName:a,value:null!==(t=null===n||void 0===n?void 0:n[a])&&void 0!==t?t:"",fieldProps:{...r,color:"secondary",fullWidth:!0,sx:{gap:0,".MuiTypography-subtitle1":{fontFamily:"Poppins",fontSize:"14px"}},error:Boolean(s[a]),helperText:s[a]},fieldType:r.fieldType,addons:"personal_no"===a&&(0,E.jsx)(P.Z,{control:(0,E.jsx)(q.Z,{color:"primary",size:"small",onChange:e=>{i({...n,personal_no:e.target.checked?n.mobile_no:""}),e.target.checked&&d({...s,[a]:H(a,{...n,[a]:n.mobile_no})})}}),label:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Same as Mobile Number"})}),onChange:m},a)}))}),(0,E.jsx)(A.ZP,{item:!0,xs:4,sx:{textAlign:"-webkit-right"},children:(0,E.jsx)(L.Z,{fieldName:"fieldName",sx:{placeContent:"flex-end",width:266,height:266},onChange:e=>{var t;i({...n,profile_pic:null===(t=e.target)||void 0===t?void 0:t.files})},file:null===n||void 0===n?void 0:n.profile_pic,children:(0,E.jsx)(r.Z,{iconName:"UploadPicture"})})})]}),(0,E.jsx)(N.Z,{onNextClick:()=>{const r=(e=>(0,g.G)(e,H))(n);if(!r.hasError)return n.mobile_no===a.formData.mobile_no?(a.setFormData({...a.formData,...n}),void a.setActiveStep(a.activeStep+1)):void u.mutateAsync({subadmin_contact_no:n.mobile_no}).then((()=>{a.setFormData({...a.formData,...n}),a.setActiveStep(a.activeStep+1)})).catch((a=>{var n,r;e({title:"Error!",variant:"error",content:null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,onCancel:()=>t()})}));d(r.errors)}})]})},J=(0,l.memo)($);var ee=a(6359);const te=()=>{(0,ee.Q)(ee.D.subAdminUpdate);const e=(0,d.Z)(),{id:t,step:a}=(0,s.UO)(),[n,i]=(0,l.useState)(0),[h,v]=(0,l.useState)({}),x=(e=>(0,f.useQuery)(["sales-excecutive-details",e],(()=>(0,y.Z)({method:"GET",url:"/for_subadmin_detail/".concat(e,"/")}))))(t);return(0,l.useEffect)((()=>{var e;i(Number(a)),v(null===(e=x.data)||void 0===e?void 0:e.data)}),[a,x.dataUpdatedAt]),(0,E.jsxs)(c.Z,{gap:5,paddingBottom:3,children:[(0,E.jsx)(o.KH,{variant:"h5",sx:{color:e.palette.common.primaryGreyText},children:"Update Sales Executive"}),(0,E.jsx)(u.Z,{nonLinear:!0,activeStep:n,connector:(0,E.jsx)(ae,{}),sx:{width:"90%",alignSelf:"center"},children:K.pB.map(((t,a)=>(0,E.jsx)(m.Z,{completed:n+1>a,active:n+1>=a,children:(0,E.jsx)(p.Z,{icon:(0,E.jsx)(r.Z,{iconName:"Checked",iconProps:{fill:n===a?"#B2BDF4":n>a?e.palette.primary.main:"#D9D9D9"}}),color:"inherit",children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:n>a?e.palette.common.primaryGreyText:e.palette.common.secondaryGreyText},children:t})})},t)))}),(0,E.jsxs)(S.Provider,{value:{formData:h,setFormData:v,activeStep:n,setActiveStep:i},children:[0===n&&(0,E.jsx)(J,{}),1===n&&(0,E.jsx)(R,{}),2===n&&(0,E.jsx)(z,{}),3===n&&(0,E.jsx)(V,{})]})]})},ae=(0,h.ZP)(v.Z)((e=>{let{theme:t}=e;return{["&.".concat(x.Z.active)]:{["& .".concat(x.Z.line)]:{backgroundColor:"#DFE4FF"}},["&.".concat(x.Z.completed)]:{["& .".concat(x.Z.line)]:{backgroundColor:t.palette.primary.main}},["& .".concat(x.Z.line)]:{height:4,border:0,backgroundColor:"#E3E3E3",borderRadius:8}}}));var ne=a(2769),re=a(8492),oe=a(1872);const ie=(e,t)=>{switch(e){case"question":return(0,b.d3)(t[e]);case"answer":return(0,b.E2)(t[e]);default:return""}};var le=a(2703),se=a(9536);const de={question:"",answer:""},ce={question:"",answer:""},ue=()=>{var e;const t=(0,f.useQuery)(["get_faqs"],(()=>(0,y.Z)({method:"GET",url:"/get_faqs/"}))),a=(0,f.useMutation)((e=>(0,y.Z)({method:"PUT",url:"/update_faqs/",data:e.request}))),{showSnackbar:n,hideSnackbar:i}=(0,Q.Ds)(),s=(0,d.Z)(),[u,m]=(0,l.useState)(de),[p,h]=(0,l.useState)(ce),[v,x]=(0,l.useState)(""),b=(e,t)=>{const a={...u,[e]:t};m(a),h({...p,[e]:ie(e,a)})},j=e=>()=>{m({question:e.question,answer:e.answer}),x(e.id)};(0,l.useEffect)((()=>{var e,a,n,r,o,i;m({question:null!==(e=null===(a=t.data)||void 0===a?void 0:a.data.data[0].question)&&void 0!==e?e:"",answer:null!==(n=null===(r=t.data)||void 0===r?void 0:r.data.data[0].answer)&&void 0!==n?n:""}),x(v||(null!==(o=null===(i=t.data)||void 0===i?void 0:i.data.data[0].id)&&void 0!==o?o:""))}),[t.dataUpdatedAt]);return(0,E.jsxs)(c.Z,{gap:4,flexDirection:"row",children:[(0,E.jsx)(c.Z,{gap:2,flexBasis:"40%",children:null===(e=t.data)||void 0===e?void 0:e.data.data.map(((e,t)=>(0,E.jsxs)(c.Z,{gap:1,flexDirection:"row",alignItems:"center",children:[(0,E.jsx)(r.Z,{iconName:"ArrowFill",iconProps:{fill:v===e.id?s.palette.primary.main:"transparent"}}),(0,E.jsxs)(o.bY,{variant:"subtitle1",fontWeight:600,paddingRight:1,sx:{color:v===e.id?s.palette.primary.main:s.palette.common.primaryGreyText,cursor:"pointer"},onClick:j(e),children:[t+1,"."]}),(0,E.jsx)(o.bY,{variant:"subtitle1",fontWeight:600,sx:{color:v===e.id?s.palette.primary.main:s.palette.common.primaryGreyText,cursor:"pointer"},onClick:j(e),children:e.question}),(0,E.jsx)(se.Z,{sx:{borderColor:"#DFE3ED"}})]},t)))}),(0,E.jsx)(se.Z,{orientation:"vertical",flexItem:!0,sx:{borderColor:"#DFE3ED"}}),(0,E.jsxs)(c.Z,{flexBasis:"60%",gap:2,children:[(0,E.jsx)(_.Z,{showLabel:!0,fieldName:"question",value:u.question,fieldProps:{variant:"outlined",color:"primary",fullWidth:!0,sx:{".MuiInputBase-input":{height:39,fontWeight:600,fontSize:"18px",color:s.palette.common.primaryGreyText,fontFamily:"Fira Sans"},".MuiInputBase-root":{borderRadius:"8px",borderColor:s.palette.common.secondaryGreyText}},error:Boolean(p.question),helperText:p.question},onChange:b},"question"),(0,E.jsx)(_.Z,{fieldName:"answer",value:u.answer,fieldProps:{multiline:!0,maxRows:5,fullWidth:!0,size:"medium",sx:{"& .MuiInputBase-input":{height:"119px !important",paddingX:"14px",paddingY:"16px",fontSize:"18px",color:s.palette.common.primaryGreyText,fontFamily:"Fira Sans",overflow:"auto !important"},"& .MuiInputBase-root":{padding:0,borderRadius:"8px",borderColor:s.palette.common.secondaryGreyText}},error:Boolean(p.answer),helperText:p.answer},onChange:b}),(0,E.jsx)(c.Z,{alignItems:"end",children:(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},loading:a.isLoading,onClick:()=>{const e=(e=>(0,g.G)(e,ie))(u);e.hasError?h(e.errors):a.mutateAsync({request:{faq_id:v,question:u.question,answer:u.answer}}).then((e=>{var a,r;n({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>i()}),null===(r=t.refetch)||void 0===r||r.call(t)})).catch((e=>{var t,a;n({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})}))},children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.white},children:"Modify"})})})]})]})},me=(0,l.memo)(ue);var pe=a(16),he=a.n(pe);a(4230);const ve=e=>(0,E.jsx)(he(),{theme:"snow",formats:ge,modules:_e,...e}),xe=(0,l.memo)(ve),_e={toolbar:{container:[[{header:[2,3,4,!1]}],["bold","italic","underline","blockquote"],[{color:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link"]]},clipboard:{matchVisual:!0}},ge=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","color"];var be=a(1806);const ye=()=>{const e=(0,d.Z)(),{showSnackbar:t,hideSnackbar:a}=(0,Q.Ds)(),n=(0,f.useQuery)(["get_private_policy"],(()=>(0,y.Z)({method:"GET",url:"/get_private_policy/"}))),r=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/update_privacy_policy/",data:e.request}))),[i,s]=(0,l.useState)();return(0,l.useEffect)((()=>{var e;s(null===(e=n.data)||void 0===e?void 0:e.data.data.policy_data)}),[n.dataUpdatedAt]),(0,E.jsxs)(c.Z,{gap:2,children:[(0,E.jsx)(be.Z,{component:"div",padding:2,sx:{"& .ql-container":{minHeight:300}},children:(0,E.jsx)(xe,{value:i,onChange:e=>s(e)})}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},loading:r.isLoading,onClick:()=>{r.mutateAsync({request:{policy_data:i}}).then((e=>{var r,o;t({title:"Success!",variant:"sucess",content:null===(r=e.data)||void 0===r?void 0:r.message,onCancel:()=>a()}),null===(o=n.refetch)||void 0===o||o.call(n)})).catch((e=>{var n,r;t({title:"Error!",variant:"error",content:null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,onCancel:()=>a()})}))},children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:e.palette.common.white},children:"Update"})})]})},fe=(0,l.memo)(ye),je=()=>{const e=(0,d.Z)(),{showSnackbar:t,hideSnackbar:a}=(0,Q.Ds)(),n=(0,f.useQuery)(["get_terms_of_use"],(()=>(0,y.Z)({method:"GET",url:"/get_terms_of_use/"}))),r=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/update_term_of_use/",data:e.request}))),[i,s]=(0,l.useState)();return(0,l.useEffect)((()=>{var e;s(null===(e=n.data)||void 0===e?void 0:e.data.data.terms_data)}),[n.dataUpdatedAt]),(0,E.jsxs)(c.Z,{gap:2,children:[(0,E.jsx)(be.Z,{component:"div",padding:2,sx:{"& .ql-container":{minHeight:300}},children:(0,E.jsx)(xe,{value:i,onChange:e=>s(e)})}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},loading:r.isLoading,onClick:()=>{r.mutateAsync({request:{terms_data:i}}).then((e=>{var r,o;t({title:"Success!",variant:"sucess",content:null===(r=e.data)||void 0===r?void 0:r.message,onCancel:()=>a()}),null===(o=n.refetch)||void 0===o||o.call(n)})).catch((e=>{var n,r;t({title:"Error!",variant:"error",content:null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message,onCancel:()=>a()})}))},children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:e.palette.common.white},children:"Update"})})]})},we=(0,l.memo)(je);var Ze=a(7322),Ce=a(7650),Te=a(5554);const Se=()=>{var e,t,a,n,i;const s=(0,d.Z)(),u=(0,Te.I0)(),m=(0,f.useQuery)(["get_admin_profile"],(()=>(0,y.Z)({method:"GET",url:"/get_admin_profile/"}))),p=(0,Ze.WO)(),h=(0,f.useMutation)((e=>{const t=new FormData;return e.request.admin_profile&&"string"!==typeof e.request.admin_profile&&t.append("admin_profile",e.request.admin_profile[0],e.request.admin_profile[0].name),(0,y.Z)({method:"POST",url:"/update_admin_profile/",data:t})})),{showSnackbar:v,hideSnackbar:x}=(0,Q.Ds)(),{userInfo:_}=(0,Te.v9)((e=>e.richPenny));return(0,l.useEffect)((()=>{var e,t;u((0,Ce.ps)({..._,avatar:null!==(e=null===(t=m.data)||void 0===t?void 0:t.data.data.admin_profile)&&void 0!==e?e:""}))}),[m.dataUpdatedAt]),(0,E.jsxs)(c.Z,{gap:5,children:[(0,E.jsxs)(c.Z,{gap:2,flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(c.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:"6px"}},children:(0,E.jsx)(F.Z,{data:[{name:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:"12px",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText},children:"Name "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText,paddingX:8},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",fontWeight:600,sx:{color:s.palette.common.primaryGreyText},children:null===(e=m.data)||void 0===e?void 0:e.data.data.admin_name}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:"12px",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText},children:"Email ID "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText,paddingX:8},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.primaryGreyText},children:null===(t=m.data)||void 0===t?void 0:t.data.data.email}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:"12px",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText},children:"Phone Number "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.secondaryGreyText,paddingX:8},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.primaryGreyText},children:null===(a=m.data)||void 0===a?void 0:a.data.data.mobile_no}),showWhen:!0}]})}),(0,E.jsx)(c.Z,{gap:5,paddingRight:"7%",children:(0,E.jsx)(L.Z,{fieldName:"fieldName",sx:{placeContent:"flex-end",width:175,height:175,borderRadius:"8px"},file:null!==(n=null===(i=m.data)||void 0===i?void 0:i.data.data.admin_profile)&&void 0!==n?n:"",onChange:e=>{var t;h.mutateAsync({request:{admin_profile:null===(t=e.target)||void 0===t?void 0:t.files}}).then((e=>{var t,a;v({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>x()}),null===(a=m.refetch)||void 0===a||a.call(m)})).catch((e=>{var t,a;v({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>x()})}))},children:(0,E.jsx)(r.Z,{iconName:"UploadPicture"})})})]}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:237,height:51,borderRadius:"8px"},onClick:()=>{var e,t;p.mutateAsync({request:{admin_email:null!==(e=null===_||void 0===_?void 0:_.email)&&void 0!==e?e:"",admin_user_id:null!==(t=null===_||void 0===_?void 0:_.id)&&void 0!==t?t:""}}).then((e=>{var t,a;v({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>x()}),null===(a=m.refetch)||void 0===a||a.call(m)})).catch((e=>{var t,a;v({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>x()})}))},loading:p.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.white},children:"Re-Set Password"})})]})},ke=(0,l.memo)(Se),De=[{name:"FAQ\u2019s",detail:(0,E.jsx)(me,{})},{name:"Privacy Policy",detail:(0,E.jsx)(fe,{})},{name:"Terms of Use",detail:(0,E.jsx)(we,{})},{name:"Profile",detail:(0,E.jsx)(ke,{})}],Ge=()=>{(0,ee.Q)(ee.D.settings);const e=(0,d.Z)(),[t,a]=(0,l.useState)(!1);return(0,E.jsxs)(c.Z,{gap:2,children:[(0,E.jsx)(o.KH,{variant:"h5",sx:{color:e.palette.common.primaryGreyText},children:"All Settings"}),(0,E.jsx)(c.Z,{gap:1,children:De.map(((n,i)=>{return(0,E.jsxs)(ne.Z,{TransitionProps:{unmountOnExit:!0},expanded:t===n.name,onChange:(l=n.name,(e,t)=>{a(!!t&&l)}),children:[(0,E.jsx)(re.Z,{expandIcon:(0,E.jsx)(r.Z,{iconName:"CircleArrowDown"}),children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:e.palette.common.primaryGreyText},children:n.name})}),(0,E.jsx)(oe.Z,{children:n.detail})]},i);var l}))})]})},He=(0,l.memo)(Ge);var Ae=a(9620),Pe=a(2097),qe=a(4014),Ne=a(4801),Ke=a(3563),Ee=a(7722),Ie=a(7131),Be=a(9255),Me=a(2673),Re=a(816),We=a.n(Re);const Oe=e=>{var t,a,n,i,s,u,m,p,h,v;const x=(0,d.Z)(),_=(0,Ne.Bc)(e.selectedId),g=null===(t=_.data)||void 0===t?void 0:t.data.data,[b,y]=(0,l.useState)(null),f=null!==(a=null===(n=_.data)||void 0===n?void 0:n.data.data.transaction_details)&&void 0!==a?a:[],j=[{field:"id",renderHeader:()=>"Sl No.",renderCell:e=>{let{rowNumber:t}=e;return t+1},tableCellProps:{sx:{minWidth:200}}},{field:"Restaurant",renderHeader:()=>"Restaurant",renderCell:e=>{let{row:t}=e;return t.restaurant_name}},{field:"Date",renderHeader:()=>"Date",renderCell:e=>{let{row:t}=e;return We()(t.date).utc().format("DD MMM yyyy")}},{field:"Time",renderHeader:()=>"Time",renderCell:e=>{let{row:t}=e;return We()("".concat(t.time)).utc().format("h:mm A")}},{field:"Amount Paid",renderHeader:()=>"Amount Paid \u27e8\u20b9\u27e9",renderCell:e=>{let{row:t}=e;return t.transaction_amount}},{field:"Offer (%)",renderHeader:()=>"Offer (%)",renderCell:e=>{let{row:t}=e;return t.offer}},{field:"UTR",renderHeader:()=>"UTR",renderCell:e=>{let{row:t}=e;return t.utr}},{field:"Payment",renderHeader:()=>"Payment",renderCell:e=>{var t;let{row:a}=e;return null!==(t=a.payment_status)&&void 0!==t?t:"--"}}];return(0,E.jsxs)(Me.s,{open:Boolean(e.selectedId),onClose:e.onClose,children:[(0,E.jsxs)(c.Z,{gap:2,flexGrow:1,children:[(0,E.jsxs)(c.Z,{gap:5,flexDirection:"row",children:[(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(L.Z,{fieldName:"fieldName",sx:{placeContent:"flex-end",width:104,height:104,backgroundColor:"#C1BFEA",borderRadius:"4px"},file:null!==(i=null===g||void 0===g?void 0:g.user_profile_img)&&void 0!==i?i:"",children:(0,E.jsx)(o.KH,{flex:"auto",alignSelf:"center",textAlign:"center",variant:"h3",fontWeight:600,children:"".concat(null!==(s=null===g||void 0===g||null===(u=g.name)||void 0===u||null===(m=u.split(" ")[0])||void 0===m?void 0:m.charAt(0))&&void 0!==s?s:""," ").concat(null!==(p=null===g||void 0===g||null===(h=g.name)||void 0===h||null===(v=h.split(" ")[1])||void 0===v?void 0:v.charAt(0))&&void 0!==p?p:"")})}),(0,E.jsxs)(c.Z,{gap:1,flexDirection:"row",alignItems:"center",justifyContent:"center",children:[(0,E.jsx)(r.Z,{iconName:"Dot",iconProps:{fill:"0"===(null===g||void 0===g?void 0:g.block_status)?x.palette.success.main:x.palette.error.main}}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:null===g||void 0===g?void 0:g.user_ref_id})]})]}),(0,E.jsxs)(c.Z,{gap:"15%",flexDirection:"row",children:[(0,E.jsx)(c.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& td":{minWidth:"150px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:4}},children:(0,E.jsx)(F.Z,{data:[{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Name:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},fontWeight:600,children:null===g||void 0===g?void 0:g.name}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Mobile No. :"}),value:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,alignItems:"center",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.phone_no}),(null===g||void 0===g?void 0:g.phone_no)&&(0,E.jsx)(Ie.Z,{onClick:()=>{var e;window.navigator.clipboard.writeText(null!==(e=null===g||void 0===g?void 0:g.phone_no)&&void 0!==e?e:"")},children:(0,E.jsx)(r.Z,{iconName:"Copy"})})]}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Email ID :"}),value:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,alignItems:"center",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.email}),(null===g||void 0===g?void 0:g.email)&&(0,E.jsx)(Ie.Z,{onClick:()=>{var e;window.navigator.clipboard.writeText(null!==(e=null===g||void 0===g?void 0:g.email)&&void 0!==e?e:"")},children:(0,E.jsx)(r.Z,{iconName:"Copy"})})]}),showWhen:!0}]})}),(0,E.jsx)(c.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& td":{minWidth:"150px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:10}},children:(0,E.jsx)(F.Z,{data:[{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"DOB :"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:""===(null===g||void 0===g?void 0:g.user_dob)?"NA":We()(null===g||void 0===g?void 0:g.user_dob).format("DD MMM YYYY")}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"KYC:"}),value:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,alignItems:"center",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:"#0062FF",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>{var e,t;y({render:(0,E.jsx)(L.Z,{fieldName:"document_img",file:null!==(e=null===g||void 0===g?void 0:g.document_img)&&void 0!==e?e:""}),heading:"".concat(null!==(t=null===g||void 0===g?void 0:g.document_type)&&void 0!==t?t:""," Details"),type:null===g||void 0===g?void 0:g.document_type})},children:null===g||void 0===g?void 0:g.document_type}),"Verified"===(null===g||void 0===g?void 0:g.KYC_Approval_status)&&(0,E.jsx)(r.Z,{iconName:"Checked",iconProps:{fill:x.palette.success.main,height:12,width:12}})]}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Bank Details:"}),value:(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,alignItems:"center",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:"NA"}),(0,E.jsx)(r.Z,{iconName:"Checked",iconProps:{fill:x.palette.common.secondaryGreyText,height:12,width:12}})]}),showWhen:!0}]})}),(0,E.jsx)(c.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& td":{minWidth:"150px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:10}},children:(0,E.jsx)(F.Z,{data:[{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Total Transaction:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.total_transaction_amount}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Payback \u27e8\u20b9\u27e9:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.payback}),showWhen:!0},{name:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Endowment  \u27e8\u20b9\u27e9:"}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.repository}),showWhen:!0}]})})]})]}),(0,E.jsxs)(c.Z,{gap:1,flexGrow:1,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:x.palette.common.secondaryGreyText},children:"Transaction History"}),(0,E.jsx)(c.Z,{flexGrow:1,children:(0,E.jsx)(qe.Z,{rows:f,columns:j,rowId:e=>e.slNo,tableProps:{size:"small",stickyHeader:!1},tableRowProps:{hover:!0},loading:_.isLoading})})]})]}),(0,E.jsx)(Be.h,{useApi:"user",id:String(null===g||void 0===g?void 0:g.user_id),render:null===b||void 0===b?void 0:b.render,heading:null===b||void 0===b?void 0:b.heading,type:null===b||void 0===b?void 0:b.type,handleClose:()=>y(null),refetch:()=>{_.refetch(),e.refetch()}})]})},ze=(0,l.memo)(Oe);var Fe=a(7154);function Le(){var e,t,a,n,i,s,u,m,p;(0,ee.Q)(ee.D.userManagement);const h=(0,d.Z)(),{showAlertDialog:v,hideAlertDialog:x}=(0,Fe.ij)(),{showSnackbar:_,hideSnackbar:g}=(0,Q.Ds)(),b=(0,Ke.xL)(),y=(0,Ke.bE)(),f=(0,Ne.vj)(),[j,w]=(0,l.useState)(!1),[Z,C]=(0,l.useState)({page:1,size:10}),[T,S]=(0,l.useState)({}),k=(0,l.useRef)(null),D=(0,Ne.kX)({...Z,...T,search:null===(e=k.current)||void 0===e?void 0:e.value}),G=null!==(t=null===(a=D.data)||void 0===a?void 0:a.data.data)&&void 0!==t?t:[],H=[{field:"user_id",renderHeader:()=>"UID",renderCell:e=>{let{row:t}=e;return t.user_id},sortable:!0},{field:"name",renderHeader:()=>"User Name",renderCell:e=>{let{row:t}=e;return t.name},sortable:!0},{field:"city",renderHeader:()=>"City",renderCell:e=>{let{row:t}=e;return t.city},sortable:!0},{field:"state",renderHeader:()=>"State",renderCell:e=>{let{row:t}=e;return t.state}},{field:"total_transaction",renderHeader:()=>"Total Transaction (\u20b9)",renderCell:e=>{let{row:t}=e;return t.total_transaction_amount_user}},{field:"total_payback",renderHeader:()=>"Total Payback (\u20b9)",renderCell:e=>{let{row:t}=e;return t.total_payback}},{field:"KYC",renderHeader:()=>"KYC",renderCell:e=>{let{row:t}=e;const a=y(t.KYC_Approval_status);return(0,E.jsx)(o.KH,{variant:"subtitle1",sx:a.sx,children:a.lable})},sortable:!0},{field:"status",renderHeader:()=>"Status",renderCell:e=>{let{row:t}=e;const a=b(t.block_status);return(0,E.jsx)(o.KH,{variant:"subtitle1",sx:a.sx,children:a.lable})},sortable:!0},{field:"action",renderHeader:()=>"Quick Action",renderCell:e=>{let{row:t}=e;return(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,children:[(0,E.jsx)(r.Z,{iconName:"OpenEye",iconProps:{fill:h.palette.secondary.main,cursor:"pointer",onClick:()=>w(t.user_id)}}),(0,E.jsx)(r.Z,{iconName:"DashCircle",iconProps:{cursor:"pointer",onClick:()=>(e=>{v({title:"".concat("0"===e.block_status?"De-active ".concat(e.name):"Enable ".concat(e.name)),content:"Are your sure? You want to ".concat("0"===e.block_status?"de-active":"enable"," this user."),buttons:[{children:"Cancel",variant:"outlined",callback:()=>{x()}},{children:"0"===e.block_status?"Yes, Deactivate":"Yes, Enable",variant:"contained",callback:()=>{f.mutateAsync({id:e.user_id}).then((e=>{var t;_({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>g()}),x(),D.refetch()})).catch((e=>{var t,a;_({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>g()})}))}}]})})(t)}})]})}}];return(0,E.jsxs)(c.Z,{gap:1,flexGrow:"inherit",children:[(0,E.jsxs)(c.Z,{gap:2,flexDirection:"row",children:[(0,E.jsx)(Ae.fK,{heading:"Total Users",content:null===(n=D.data)||void 0===n?void 0:n.data.all_user_count}),(0,E.jsx)(Ae.fK,{heading:"Active Users",content:null===(i=D.data)||void 0===i?void 0:i.data.block_user_count,sx:{".heading":{color:h.palette.success.main}},onClick:()=>{return e="active",k.current.value=e,void D.refetch();var e}})]}),(0,E.jsx)(c.Z,{gap:2,flexDirection:"row",alignSelf:"self-end",children:(0,E.jsx)(Ee.Z,{size:"small",placeholder:"Search...",autoComplete:"off",InputProps:{startAdornment:(0,E.jsx)(r.Z,{iconName:"Search"}),endAdornment:(0,E.jsx)(Ie.Z,{size:"small",sx:{padding:"4px"},onClick:()=>{var e,t;(null!==(e=k.current)&&void 0!==e&&e.value||""!==(null===(t=k.current)||void 0===t?void 0:t.value))&&(k.current.value="",D.refetch())},children:(0,E.jsx)(r.Z,{iconName:"Cancel"})})},inputRef:k,onKeyDown:e=>{"Enter"===e.key&&D.refetch()},sx:{".MuiInputBase-input":{paddingLeft:1},".MuiOutlinedInput-notchedOutline":{borderColor:"#E9ECEF"}}})}),(0,E.jsxs)(c.Z,{gap:2,flexGrow:"inherit",children:[(0,E.jsx)(qe.Z,{rows:G,columns:H,rowId:e=>e.id,tableProps:{size:"small",stickyHeader:!1},tableRowProps:{hover:!0},onSortChange:e=>{S({sort_by:null===e||void 0===e?void 0:e.field,order:null===e||void 0===e?void 0:e.order})},loading:D.isLoading}),(0,E.jsx)(Pe.Z,{page:Z.page,size:null!==(s=null===(u=D.data)||void 0===u?void 0:u.data.size)&&void 0!==s?s:0,totalPages:null!==(m=null===(p=D.data)||void 0===p?void 0:p.data.pagesTotal)&&void 0!==m?m:0,onPageChange:e=>{C({...Z,page:e})}})]}),j&&(0,E.jsx)(ze,{selectedId:j,onClose:()=>w(!1),refetch:()=>{D.refetch()}})]})}const Qe=(0,l.memo)(Le),Ue=(e,t)=>{switch(e){case"BannerImg1":case"BannerImg2":case"BannerImg3":case"BannerImg4":return(0,b.ap)(t[e]);default:return""}},Ye=()=>(0,f.useQuery)(["get_banner_admin_new"],(()=>(0,y.Z)({method:"GET",url:"/get_banner_admin_new/"})));var Ve=a(5480);const Xe={b1_restaurant_id:"",b2_restaurant_id:"",b3_restaurant_id:"",b4_restaurant_id:"",BannerImg1:"",BannerImg2:"",BannerImg3:"",BannerImg4:""},$e={BannerImg1:"",BannerImg2:"",BannerImg3:"",BannerImg4:""},Je=()=>{var e;(0,ee.Q)(ee.D.banners);const t=(0,d.Z)(),a=Ye();return(0,E.jsxs)(c.Z,{gap:4,children:[(0,E.jsx)(c.Z,{children:(0,E.jsx)(Ae.fK,{heading:"Total Banner",content:(0,E.jsxs)(o.KH,{variant:"h4",fontWeight:600,sx:{color:t.palette.common.primaryGreyText},children:[null===(e=a.data)||void 0===e?void 0:e.data.data[0].banner_count,(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:t.palette.common.secondaryGreyText,display:"contents"},children:"/4"})]})})}),(0,E.jsx)(c.Z,{gap:2,flexDirection:"row",children:Array.from(Array(4).keys()).map(((e,t)=>(0,E.jsx)(tt,{index:t+1},t)))})]})},et=(0,l.memo)(Je),tt=e=>{var t,a,n,i,s,u;const m=(0,d.Z)(),{showSnackbar:p,hideSnackbar:h}=(0,Q.Ds)(),v=Ye(),x=(0,f.useMutation)((e=>{var t,a,n,r;const o=new FormData;return e.request.BannerImg1&&"string"!==typeof e.request.BannerImg1&&o.append("BannerImg1",e.request.BannerImg1[0],e.request.BannerImg1[0].name),e.request.BannerImg2&&"string"!==typeof e.request.BannerImg2&&o.append("BannerImg2",e.request.BannerImg2[0],e.request.BannerImg2[0].name),e.request.BannerImg3&&"string"!==typeof e.request.BannerImg3&&o.append("BannerImg3",e.request.BannerImg3[0],e.request.BannerImg3[0].name),e.request.BannerImg4&&"string"!==typeof e.request.BannerImg4&&o.append("BannerImg4",e.request.BannerImg4[0],e.request.BannerImg4[0].name),e.request.b1_restaurant_id&&o.append("b1_restaurant_id",null===(t=e.request.b1_restaurant_id)||void 0===t?void 0:t.value),e.request.b2_restaurant_id&&o.append("b2_restaurant_id",null===(a=e.request.b2_restaurant_id)||void 0===a?void 0:a.value),e.request.b3_restaurant_id&&o.append("b3_restaurant_id",null===(n=e.request.b3_restaurant_id)||void 0===n?void 0:n.value),e.request.b4_restaurant_id&&o.append("b4_restaurant_id",null===(r=e.request.b4_restaurant_id)||void 0===r?void 0:r.value),e.request.b1_publish_status&&o.append("b1_publish_status",e.request.b1_publish_status),e.request.b2_publish_status&&o.append("b2_publish_status",e.request.b2_publish_status),e.request.b3_publish_status&&o.append("b3_publish_status",e.request.b3_publish_status),e.request.b4_publish_status&&o.append("b4_publish_status",e.request.b4_publish_status),(0,y.Z)({method:"POST",url:"/update_banner_new/",data:o})})),b=(0,f.useMutation)((e=>{const t=new FormData;return t.append("banner_number",e.request.banner_number),t.append("restaurant_id",e.request.restaurant_id),(0,y.Z)({method:"POST",url:"/unpublish_banner/",data:e.request})})),j=(0,f.useQuery)(["get_restaurants_name"],(()=>(0,y.Z)({method:"GET",url:"/get_restaurants_name/"}))),[w,Z]=(0,l.useState)(Xe),[C,T]=(0,l.useState)($e),S=null===(t=v.data)||void 0===t||null===(a=t.data.data)||void 0===a?void 0:a[0],k=null===S||void 0===S?void 0:S["banner_".concat(e.index)],D=null===(n=j.data)||void 0===n?void 0:n.data.restaurant_list.find((t=>t.value===(null===S||void 0===S?void 0:S["b".concat(e.index,"_restaurant_id")]))),G=null===S||void 0===S?void 0:S["b".concat(e.index,"_publish_status")];return(0,l.useEffect)((()=>{Z({...w,["BannerImg".concat(e.index)]:S?k:"",["b".concat(e.index,"_publish_status")]:S?G:""})}),[v.dataUpdatedAt]),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(c.Z,{gap:4,width:"24%",children:[(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(L.Z,{fieldName:"BannerImg".concat(e.index),sx:{placeContent:"flex-end",height:182,borderRadius:"20px",boxShadow:"0px 4px 8px 0px #00000033",justifyContent:"center",alignItems:"center"},file:null!==(i=w["BannerImg".concat(e.index)])&&void 0!==i?i:"",overlay:(0,E.jsxs)(c.Z,{sx:{flexDirection:"row",position:"absolute",justifyContent:"center",alignItems:"center",bottom:0,borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px",backgroundColor:"#171A2099",width:"100%",height:"43px",gap:1},children:[(0,E.jsx)(r.Z,{iconName:"Replace",iconProps:{width:16,height:16}}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.white},children:"Replace"})]}),onChange:t=>{return a="BannerImg".concat(e.index),n=t.target.files,void x.mutateAsync({request:{[a]:n}}).then((e=>{var t;p({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>h()}),Z(Xe),v.refetch()})).catch((e=>{var t,a;p({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>h()})}));var a,n},children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Default Banner"})}),C["BannerImg".concat(e.index)]&&(0,E.jsx)(Ve.Z,{error:Boolean(C["BannerImg".concat(e.index)]),children:C["BannerImg".concat(e.index)]})]}),(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Link to (Optional)"}),(0,E.jsxs)(c.Z,{gap:3,children:[(0,E.jsx)(_.Z,{fieldName:"b".concat(e.index,"_restaurant_id"),value:D||(null!==(s=w["b".concat(e.index,"_restaurant_id")])&&void 0!==s?s:""),fieldProps:{disabled:!k,placeholder:"Select restaurant",size:"medium",options:null===(u=j.data)||void 0===u?void 0:u.data.restaurant_list,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:m.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:"100%"},"& .MuiTypography-subtitle1":{color:m.palette.common.secondaryGreyText}}},fieldType:"select",onChange:(e,t)=>{const a={...w,[e]:t};Z(a),T({...C,[e]:Ue(e,a)})}}),"0"===G||null===G||Boolean(w["b".concat(e.index,"_restaurant_id")])?(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{borderRadius:"8px",height:51},onClick:()=>{const t=(e=>(0,g.G)(e,Ue))({["b".concat(e.index,"_restaurant_id")]:w["b".concat(e.index,"_restaurant_id")]});t.hasError?T(t.errors):x.mutateAsync({request:{...w,["b".concat(e.index,"_publish_status")]:"1"}}).then((e=>{var t;p({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>h()}),Z(Xe),v.refetch()})).catch((e=>{var t,a;p({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>h()})}))},disabled:!(k||Boolean(w["b".concat(e.index,"_restaurant_id")])),loading:x.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Publish"})}):(0,E.jsx)(le.Z,{size:"large",variant:"outlined",color:"primary",sx:{borderRadius:"8px",height:51},onClick:()=>{x.mutateAsync({request:{["b".concat(e.index,"_restaurant_id")]:null,["b".concat(e.index,"_publish_status")]:"0"}}).then((e=>{var t;p({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>h()}),Z(Xe),v.refetch()})).catch((e=>{var t,a;p({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>h()})}))},loading:b.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:"Un-Publish"})})]})]})]})})};var at=a(8485),nt=a(5280);const rt=(e,t)=>"number"===e?(0,b.sb)(t[e]):"",ot=(e,t)=>"sub_admin_id"===e?(0,b.$z)(t[e]):"";var it=a(3223);const lt=[50,100,200],st={sub_admin_id:"",number:""},dt={sub_admin_id:""},ct=e=>{var t;const a=(0,d.Z)(),{showSnackbar:n,hideSnackbar:r}=(0,Q.Ds)(),i=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/handover_qr/",data:e.request}))),s=(0,f.useQuery)(["get_subadmin_name"],(()=>(0,y.Z)({method:"GET",url:"/get_subadmin_name/"}))),[u,m]=(0,l.useState)(st),[p,h]=(0,l.useState)(dt),v=(e,t)=>{const a={...u,[e]:t};m(a),h({...p,[e]:ot(e,a)})};return(0,E.jsxs)(c.Z,{gap:5,children:[(0,E.jsx)(_.Z,{fieldName:"sub_admin_id",value:u.sub_admin_id,fieldProps:{label:"Select Executive",placeholder:"Select Executive ",error:Boolean(p.sub_admin_id),helperText:p.sub_admin_id,size:"medium",options:null===(t=s.data)||void 0===t?void 0:t.data.subadmins_list,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:a.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:"30%"},"& .MuiTypography-subtitle1":{color:a.palette.common.secondaryGreyText}}},fieldType:"select",onChange:v}),(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:a.palette.common.secondaryGreyText},children:"Select Your Number"}),(0,E.jsx)(c.Z,{flexDirection:"row",gap:1,children:lt.map(((e,t)=>(0,E.jsx)(it.Z,{size:"large",variant:u.number===String(e)?"contained":"outlined",color:"primary",sx:{...u.number===String(e)&&{borderColor:"#DFE3ED"},width:100,height:40,borderRadius:"8px"},onClick:()=>v("number",String(e)),children:e},t)))})]}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},onClick:()=>{var t;const a=(e=>(0,g.G)(e,ot))(u);a.hasError?h(a.errors):i.mutateAsync({request:{...u,sub_admin_id:null===(t=u.sub_admin_id)||void 0===t?void 0:t.value}}).then((t=>{var a;m(st),n({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>r()}),e.refetch()})).catch((e=>{var t,a;n({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>r()})}))},disabled:""===u.number||""===u.sub_admin_id,loading:i.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Handover"})})]})},ut=(0,l.memo)(ct),mt={number:""},pt={number:""},ht=e=>{const t=(0,d.Z)(),{showSnackbar:a,hideSnackbar:n}=(0,Q.Ds)(),r=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/receive_qr/",data:e.request}))),[i,s]=(0,l.useState)(mt),[u,m]=(0,l.useState)(pt);return(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:t.palette.common.secondaryGreyText},children:"Enter Number"}),(0,E.jsxs)(c.Z,{gap:8,children:[(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"number",value:i.number,fieldProps:{placeholder:"Type the number of qr received",size:"medium",error:Boolean(u.number),helperText:u.number,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.common.secondaryGreyText,borderRadius:"8px",minWidth:"114px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:"30%"}}},onChange:(e,t)=>{const a={...i,[e]:t};s(a),m({...u,[e]:rt(e,a)})}}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},onClick:()=>{const t=(e=>(0,g.G)(e,rt))(i);t.hasError?m(t.errors):r.mutateAsync({request:{number:i.number}}).then((t=>{var r;s(mt),a({title:"Success!",variant:"sucess",content:null===(r=t.data)||void 0===r?void 0:r.message,onCancel:()=>n()}),e.refetch()})).catch((e=>{var t,r;a({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message,onCancel:()=>n()})}))},disabled:i===mt,loading:r.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Accept"})})]})]})},vt=(0,l.memo)(ht),xt=e=>{const t=(0,d.Z)(),[a,n]=(0,l.useState)(!1),i=e=>(t,a)=>{n(!!a&&e)};return(0,E.jsxs)(c.Z,{gap:2,children:[(0,E.jsxs)(ne.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Handover QR"===a,onChange:i("Handover QR"),children:[(0,E.jsx)(re.Z,{expandIcon:(0,E.jsx)(r.Z,{iconName:"CircleArrowDown"}),children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:t.palette.common.primaryGreyText},children:"Handover QR"})}),(0,E.jsx)(oe.Z,{children:(0,E.jsx)(ut,{refetch:e.refetch})})]}),(0,E.jsxs)(ne.Z,{TransitionProps:{unmountOnExit:!0},expanded:"QR Placard"===a,onChange:i("QR Placard"),children:[(0,E.jsx)(re.Z,{expandIcon:(0,E.jsx)(r.Z,{iconName:"CircleArrowDown"}),children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:t.palette.common.primaryGreyText},children:"QR Placard Received"})}),(0,E.jsx)(oe.Z,{children:(0,E.jsx)(vt,{refetch:e.refetch})})]})]})},_t=(0,l.memo)(xt),gt=()=>{var e,t,a,n,r,o,s;const u=(0,d.Z)(),m=(0,l.useRef)(null),[p,h]=(0,l.useState)({page:1,size:10}),[v,x]=(0,l.useState)({}),_=(g={...p,...v,search:null===(e=m.current)||void 0===e?void 0:e.value},(0,f.useQuery)(["get_qr_history",g],(()=>(0,y.Z)({method:"GET",url:"/get_qr_history/",params:g}))));var g;const b=null!==(t=null===(a=_.data)||void 0===a?void 0:a.data.data)&&void 0!==t?t:[],j=[{field:"SL No",renderHeader:()=>"SL No",renderCell:e=>{var t,a,n,r;let{rowNumber:o}=e;return(0,i.ks)(null!==(t=null===(a=_.data)||void 0===a?void 0:a.data.page)&&void 0!==t?t:0,null!==(n=null===(r=_.data)||void 0===r?void 0:r.data.size)&&void 0!==n?n:0,o)},tableCellProps:{sx:{width:150}},tableCellTypographySx:{paddingLeft:u.spacing(1)},tableHeaderProps:{sx:{width:150}}},{field:"action",renderHeader:()=>"Action",renderCell:e=>{let{row:t}=e;return t.action},tableCellProps:{sx:{width:500}},tableHeaderProps:{sx:{width:500}},sortable:!0},{field:"by_or_to_id",renderHeader:()=>"By/To",renderCell:e=>{let{row:t}=e;return t.by_or_to_id},tableCellProps:{sx:{width:300}},tableHeaderProps:{sx:{width:300}},sortable:!0},{field:"added_datetime",renderHeader:()=>"Date",renderCell:e=>{var t;let{row:a}=e;return We()(null!==(t=a.added_datetime)&&void 0!==t?t:"").format("DD MMM YYYY")},tableCellProps:{sx:{width:300}},tableHeaderProps:{sx:{width:300}},sortable:!0},{field:"qr_number",renderHeader:()=>"Number",renderCell:e=>{let{row:t}=e;return t.qr_number},tableCellProps:{sx:{width:150,textAlign:"-webkit-left",paddingRight:u.spacing(6)}},tableHeaderProps:{sx:{width:150,justifyContent:"left"}}}];return(0,E.jsxs)(c.Z,{gap:2,flexGrow:"inherit",children:[(0,E.jsx)(qe.Z,{rows:b,columns:j,rowId:e=>e.id,tableProps:{size:"small",stickyHeader:!1},tableRowProps:{hover:!0},onSortChange:e=>{x({sort_by:null===e||void 0===e?void 0:e.field,order:null===e||void 0===e?void 0:e.order})},loading:_.isLoading}),(0,E.jsx)(Pe.Z,{page:p.page,size:null!==(n=null===(r=_.data)||void 0===r?void 0:r.data.size)&&void 0!==n?n:0,totalPages:null!==(o=null===(s=_.data)||void 0===s?void 0:s.data.pagesTotal)&&void 0!==o?o:0,onPageChange:e=>{h({...p,page:e})}})]})},bt=(0,l.memo)(gt),yt=[100,500,1e3,2e3,5e3,1e4],ft=e=>{const t=(0,d.Z)(),{showSnackbar:a,hideSnackbar:n}=(0,Q.Ds)(),{showAlertDialog:r,hideAlertDialog:i}=(0,Fe.ij)(),s=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/generate_qr/",data:e.request}))),[u,m]=(0,l.useState)(null);return(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:t.palette.common.secondaryGreyText},children:"Select Your Number"}),(0,E.jsxs)(c.Z,{gap:5,children:[(0,E.jsx)(c.Z,{flexDirection:"row",gap:1,children:yt.map(((e,t)=>(0,E.jsx)(it.Z,{size:"large",variant:u===e?"contained":"outlined",color:"primary",sx:{...u===e&&{borderColor:"#DFE3ED"},width:100,height:40,borderRadius:"8px"},onClick:()=>m(e),children:e},t)))}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},disabled:null===u,loading:s.isLoading,onClick:()=>{r({title:"Generate QR Code",content:"Are Your sure you want to generate QR Code?",buttons:[{children:"Cancel",variant:"outlined",callback:()=>{i()}},{children:"Genearate",variant:"contained",callback:()=>{s.mutateAsync({request:{number:u}}).then((t=>{var r;a({title:"Success!",variant:"sucess",content:null===(r=t.data)||void 0===r?void 0:r.message,onCancel:()=>n()}),m(null),e.refetch()})).catch((e=>{var t,r;a({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message,onCancel:()=>n()})})),i()}}]})},children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Generate QR"})})]})]})},jt=(0,l.memo)(ft);var wt=a(1550),Zt=a(5685),Ct=a(3827),Tt=a(4469),St=a(3604),kt=a(6467),Dt=a(658),Gt=a.n(Dt),Ht=a(6316);const At=[5,500,1e3,2e3,3e3,4e3,5e3,6e3],Pt=[{label:"Image1",value:"bg_url_1"},{label:"Image2",value:"bg_url_2"},{label:"Image3",value:"bg_url_3"}],qt=370,Nt=900,Kt=500,Et=0,It={x:250,y:500,font:"bold 38px Arial",color:"#70778b"},Bt=e=>{var t,a;const n=(0,d.Z)(),{showSnackbar:r,hideSnackbar:i}=(0,Q.Ds)(),{showAlertDialog:s,hideAlertDialog:u}=(0,Fe.ij)(),m=(0,f.useQuery)(["get_qr_bg"],(()=>(0,y.Z)({method:"GET",url:"/get_qr_bg/"}))),p=(0,f.useMutation)((e=>(0,y.Z)({method:"POST",url:"/download_qr/",data:e.request}))),[h,v]=(0,l.useState)(null),[x,_]=(0,l.useState)(null),[g,b]=(0,l.useState)(null),[j,w]=(0,l.useState)(!1),Z=new(Gt());return(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:n.palette.common.secondaryGreyText},children:"Select Number"}),(0,E.jsxs)(c.Z,{gap:5,children:[(0,E.jsx)(c.Z,{flexDirection:"row",gap:1,children:At.map(((e,t)=>(0,E.jsx)(it.Z,{size:"large",variant:h===e?"contained":"outlined",color:"primary",sx:{...h===e&&{borderColor:"#DFE3ED"},width:100,height:40,borderRadius:"8px"},onClick:()=>v(e),children:e},t)))}),(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:n.palette.common.secondaryGreyText},children:"Select Image"}),(0,E.jsx)(wt.Z,{children:(0,E.jsx)(Zt.Z,{row:!0,value:null===x||void 0===x?void 0:x.value,onChange:e=>{var t;return _(null!==(t=Pt.find((t=>t.value===e.target.value)))&&void 0!==t?t:null)},sx:{gap:2},children:Pt.map(((e,t)=>{var a;return(0,E.jsx)(P.Z,{value:e.value,control:(0,E.jsx)(Ct.Z,{size:"medium"}),label:(0,E.jsx)(o.KH,{variant:"h6",sx:{color:null!==(a=m.data)&&void 0!==a&&a.data.bg_urls[t]?n.palette.success.main:n.palette.common.secondaryGreyText},onClick:()=>b({label:e.label,value:String(t)}),children:e.label})},t)}))})})]}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px"},disabled:null===h||null===x,loading:j,onClick:()=>{var t,a;const n=null!==(t=null===(a=m.data)||void 0===a?void 0:a.data.bg_urls[Pt.findIndex((e=>e.value===(null===x||void 0===x?void 0:x.value)))])&&void 0!==t?t:"";n?(w(!0),s({title:"Download QR Code",content:"Are Your sure you want to download QR Code?",buttons:[{children:"Cancel",variant:"outlined",callback:()=>{u()}},{children:"Download",variant:"contained",callback:()=>{u(),p.mutateAsync({request:{number:h}}).then((t=>{Promise.all(t.data.download_list.map((e=>(async e=>{let{stringToCreateQR:t,bannerImg:a,bannerText:n}=e;const r=document.createElement("canvas"),o=r.getContext("2d");if(!o)throw new Error("Canvas context not available");const i=await new Promise(((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>e(n),n.onerror=t,n.src=a}));r.width=i.width,r.height=i.height,o.drawImage(i,0,0);const l=document.createElement("canvas");if(!l.getContext("2d"))throw new Error("QR Canvas context not available");return l.width=Kt,l.height=Kt,await Ht.toCanvas(l,t,{width:Kt,margin:Et,color:{dark:"#000000",light:"#ffffff00"}}),o.drawImage(l,qt,Nt,Kt,Kt),o.save(),o.translate(qt-30,Nt+Kt-145),o.rotate(-Math.PI/2),o.font=It.font,o.fillStyle=It.color,o.textAlign="center",o.textBaseline="middle",o.fillText(n,0,0),o.restore(),{blob:await new Promise((e=>{r.toBlob((t=>{t&&e(t)}),"image/png")})),bannerText:n}})({stringToCreateQR:"".concat(String("https://admin.makemybucks.com/payments?key=")).concat(e.qr_id),bannerImg:n,bannerText:e.qr_id})))).then((t=>{t.map((e=>{Z.file("".concat(e.bannerText,".png"),e.blob,{binary:!0})})),Z.generateAsync({type:"blob"}).then((e=>{const t=window.document.createElement("a");t.href=window.URL.createObjectURL(new Blob([e])),t.download="qrcodes.zip",t.click()})).then((()=>{w(!1),e.refetch()})).catch((()=>{w(!1)}))})).catch((()=>{w(!1)}))})).catch((e=>{var t,a;w(!1),r({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>i()})}))}}]})):s({title:"Download QR Code",content:"No image associated with the selected image.",buttons:[{children:"ok",variant:"outlined",callback:()=>{u()}}]})},children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Download QR"})})]}),(0,E.jsx)(Rt,{imageUrl:null!==(t=null===(a=m.data)||void 0===a?void 0:a.data.bg_urls[Number(null===g||void 0===g?void 0:g.value)])&&void 0!==t?t:"",openQRBgDialog:g,handleClose:()=>b(null),refetch:()=>{m.refetch()}})]})},Mt=(0,l.memo)(Bt),Rt=e=>{var t;const a=(0,d.Z)(),{showSnackbar:n,hideSnackbar:r}=(0,Q.Ds)(),i=(0,f.useMutation)((e=>{const t=new FormData;return e.request.bg_url_1&&"string"!==typeof e.request.bg_url_1&&t.append("bg_url_1",e.request.bg_url_1[0],e.request.bg_url_1[0].name),e.request.bg_url_2&&"string"!==typeof e.request.bg_url_2&&t.append("bg_url_2",e.request.bg_url_2[0],e.request.bg_url_2[0].name),e.request.bg_url_3&&"string"!==typeof e.request.bg_url_3&&t.append("bg_url_3",e.request.bg_url_3[0],e.request.bg_url_3[0].name),(0,y.Z)({method:"POST",url:"/add_update_bg_img/",data:t})}));return(0,E.jsxs)(Tt.Z,{onClose:e.handleClose,open:Boolean(e.openQRBgDialog),maxWidth:"sm",sx:{".MuiPaper-root":{width:"100%"}},children:[(0,E.jsx)(St.Z,{sx:{padding:4,paddingBottom:3},children:(0,E.jsxs)(o.KH,{variant:"h5",sx:{color:a.palette.common.primaryGreyText},children:["QR Background ",null===(t=e.openQRBgDialog)||void 0===t?void 0:t.label]})}),(0,E.jsxs)(kt.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column",gap:6,padding:4},children:[e.imageUrl?(0,E.jsx)("img",{width:206,height:333,src:e.imageUrl}):(0,E.jsx)(c.Z,{width:206,height:333,sx:{backgroundColor:"#DFE3ED"},justifyContent:"center",alignItems:"center",children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"No Image Found"})}),(0,E.jsxs)(c.Z,{flexDirection:"row",gap:2,alignSelf:"self-end",children:[(0,E.jsx)(le.Z,{variant:"outlined",size:"large",sx:{width:245},onClick:e.handleClose,children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:a.palette.common.primaryGreyText},children:"Back"})}),(0,E.jsxs)("label",{htmlFor:"upoload-qr-bg",children:[(0,E.jsx)("input",{id:"upoload-qr-bg",name:"upoload-qr-bg",style:{opacity:0,position:"absolute",width:"inherit",height:"inherit"},type:"file",onChange:t=>{var a;i.mutateAsync({request:{["bg_url_".concat(Number(null===(a=e.openQRBgDialog)||void 0===a?void 0:a.value)+1)]:t.target.files}}).then((t=>{var a,o;n({title:"Success!",variant:"sucess",content:null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>r()}),e.refetch(),null===(o=e.handleClose)||void 0===o||o.call(e)})).catch((e=>{var t,a;n({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>r()})}))},onClick:e=>e.currentTarget.value=""}),(0,E.jsx)(le.Z,{component:"span",variant:"contained",size:"large",sx:{width:245},loading:i.isLoading,children:(0,E.jsx)(o.KH,{variant:"h5",children:e.imageUrl?"Update Image":"Upload Image"})})]})]})]})]})},Wt=e=>{const t=(0,d.Z)(),[a,n]=(0,l.useState)(!1),i=e=>(t,a)=>{n(!!a&&e)};return(0,E.jsxs)(c.Z,{gap:2,children:[(0,E.jsxs)(ne.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Generate QR Code"===a,onChange:i("Generate QR Code"),children:[(0,E.jsx)(re.Z,{expandIcon:(0,E.jsx)(r.Z,{iconName:"CircleArrowDown"}),children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:t.palette.common.primaryGreyText},children:"Generate QR Code"})}),(0,E.jsx)(oe.Z,{children:(0,E.jsx)(jt,{refetch:e.refetch})})]}),(0,E.jsxs)(ne.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Download QR Code"===a,onChange:i("Download QR Code"),children:[(0,E.jsx)(re.Z,{expandIcon:(0,E.jsx)(r.Z,{iconName:"CircleArrowDown"}),children:(0,E.jsx)(o.KH,{variant:"h5",sx:{color:t.palette.common.primaryGreyText},children:"Download QR Code"})}),(0,E.jsx)(oe.Z,{children:(0,E.jsx)(Mt,{refetch:e.refetch})})]})]})},Ot=(0,l.memo)(Wt),zt=["HISTORY TABLE","MANAGE","GENERATE"],Ft=()=>{var e,t,a,n,r,i;(0,ee.Q)(ee.D.qrManagement);const s=(0,d.Z)(),u=(0,f.useQuery)(["QR_dashboard_count"],(()=>(0,y.Z)({method:"GET",url:"/QR_dashboard_count/"}))),[m,p]=(0,l.useState)(0);return(0,E.jsxs)(c.Z,{gap:3,flexGrow:"inherit",children:[(0,E.jsxs)(c.Z,{flexDirection:"row",gap:2,children:[(0,E.jsx)(Ae.fK,{heading:"Total QR Generated",content:null===(e=u.data)||void 0===e?void 0:e.data.data.total_qr_generated_count,sx:{".MuiTypography-subtitle1":{color:s.palette.common.secondaryGreyText},width:"240px"}}),(0,E.jsx)(Ae.fK,{heading:"Available for Download",content:null===(t=u.data)||void 0===t?void 0:t.data.data.available_qr_count,sx:{".MuiTypography-subtitle1":{color:s.palette.common.secondaryGreyText},width:"240"}}),(0,E.jsx)(Ae.fK,{heading:"Available for printing",content:null===(a=u.data)||void 0===a?void 0:a.data.data.download_qr_count,sx:{".MuiTypography-subtitle1":{color:s.palette.common.secondaryGreyText},width:"240px"}}),(0,E.jsx)(Ae.fK,{heading:"Available for Handover",content:null===(n=u.data)||void 0===n?void 0:n.data.data.available_for_handover_count,sx:{".MuiTypography-subtitle1":{color:s.palette.common.secondaryGreyText},width:"240"}}),(0,E.jsx)(Ae.fK,{heading:"Active",content:null===(r=u.data)||void 0===r?void 0:r.data.data.active_qr_count,sx:{".MuiTypography-subtitle1":{color:s.palette.success.main},width:"240px"}}),(0,E.jsx)(Ae.fK,{heading:"Disabled QR",content:null===(i=u.data)||void 0===i?void 0:i.data.data.disabled_qr_count,sx:{".MuiTypography-subtitle1":{color:s.palette.common.secondaryGreyText},width:"240px"}})]}),(0,E.jsxs)(c.Z,{gap:2,flexGrow:1,children:[(0,E.jsx)(be.Z,{sx:{width:"100%",padding:"8px",backgroundColor:"#E9EBF0",borderRadius:"8px"},children:(0,E.jsx)(at.Z,{value:m,onChange:(e,t)=>{p(t)},children:zt.map(((e,t)=>(0,E.jsx)(nt.Z,{sx:{minWidth:"33.3%"},label:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:s.palette.common.primaryGreyText},children:e})},t)))})}),0===m&&(0,E.jsx)(bt,{}),1===m&&(0,E.jsx)(_t,{refetch:()=>{u.refetch()}}),2===m&&(0,E.jsx)(Ot,{refetch:()=>{u.refetch()}})]})]})},Lt=(0,l.memo)(Ft);var Qt=a(2638);const Ut=()=>{var e,t,a,n,i,u,m,p,h,v,x,_,g;(0,ee.Q)(ee.D.ownersManagement);const b=(0,s.s0)(),y=(0,d.Z)(),{showAlertDialog:f,hideAlertDialog:j}=(0,Fe.ij)(),{showSnackbar:w,hideSnackbar:Z}=(0,Q.Ds)(),C=(0,Ke.cp)(),T=(0,l.useRef)(null),S=(0,Qt.Ti)(),k=(0,Qt.Y6)(),[D,G]=(0,l.useState)({page:1,size:10}),[H,A]=(0,l.useState)({}),P=(0,Qt.xD)({...D,...H,search:null===(e=T.current)||void 0===e?void 0:e.value}),q=e=>{T.current.value=e,P.refetch()},N=null!==(t=null===(a=P.data)||void 0===a?void 0:a.data.data)&&void 0!==t?t:[],K=[{field:"owner_id",renderHeader:()=>"Id",renderCell:e=>{let{row:t}=e;return t.owner_id},sortable:!0},{field:"owner_name",renderHeader:()=>"Name",renderCell:e=>{let{row:t}=e;return t.owner_name},sortable:!0},{field:"city",renderHeader:()=>"City",renderCell:e=>{let{row:t}=e;return t.city},sortable:!0},{field:"state",renderHeader:()=>"State",renderCell:e=>{let{row:t}=e;return t.state},sortable:!0,tableCellProps:{sx:{maxWidth:150}}},{field:"agreement_type",renderHeader:()=>"Type",renderCell:e=>{let{row:t}=e;return t.agreement_type},tableCellTypographySx:{paddingLeft:y.spacing(1)}},{field:"added_by",renderHeader:()=>"Added By",renderCell:e=>{let{row:t}=e;return t.added_by},sortable:!0},{field:"status",renderHeader:()=>"Status",renderCell:e=>{let{row:t}=e;const a=C(t.owner_status);return(0,E.jsx)(o.KH,{variant:"subtitle1",sx:a.sx,children:a.lable})},sortable:!0},{field:"action",renderHeader:()=>"Quick Action",renderCell:e=>{let{row:t}=e;return(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,children:[(0,E.jsx)(r.Z,{iconName:"OpenEye",iconProps:{fill:y.palette.secondary.main,cursor:"pointer",onClick:()=>b("/admin/owners/".concat(t.owner_id))}}),(0,E.jsx)(r.Z,{iconName:"DashCircle",iconProps:{cursor:"pointer",onClick:()=>(e=>{f({title:"".concat("De-active ".concat(e.owner_name)),content:"Are your sure? You want to ".concat("de-active"," this user."),buttons:[{children:"Cancel",variant:"outlined",callback:()=>{j()}},{children:"Yes, Deactivate",variant:"contained",callback:()=>{k.mutateAsync({request:{owner_id:e.owner_id,owner_status:"deactivate"}}).then((e=>{var t;w({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>Z()}),j(),P.refetch()})).catch((e=>{var t,a;w({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>Z()})}))}}]})})(t)}})]})}}];return(0,E.jsxs)(c.Z,{gap:1,flexGrow:"inherit",children:[(0,E.jsx)(c.Z,{flexDirection:"row",gap:12,children:(0,E.jsxs)(c.Z,{gap:2,flexDirection:"row",children:[(0,E.jsx)(Ae.fK,{heading:"Total Contract",content:null!==(n=null===(i=S.data)||void 0===i?void 0:i.data.data.total_contract)&&void 0!==n?n:0,onClick:()=>q("")}),(0,E.jsx)(Ae.fK,{heading:"Currently Active",content:null!==(u=null===(m=S.data)||void 0===m?void 0:m.data.data.active_owner_count)&&void 0!==u?u:0,sx:{background:"#F5FFF4",borderColor:"#B8E5B6"},onClick:()=>q("approved")}),(0,E.jsx)(Ae.fK,{heading:"Pending Approval",content:null!==(p=null===(h=S.data)||void 0===h?void 0:h.data.data.pending_approval_count)&&void 0!==p?p:0,sx:{background:"#FFF7E8",borderColor:"#F6EAD4"},onClick:()=>q("pending approval")}),(0,E.jsx)(Ae.fK,{heading:"Upcoming Renewal",content:null!==(v=null===(x=S.data)||void 0===x?void 0:x.data.data.upcoming_renewal)&&void 0!==v?v:0,sx:{background:"#F0F6FF",borderColor:"#D3E1F5"},onClick:()=>q("upcoming renewal")})]})}),(0,E.jsx)(c.Z,{gap:2,flexDirection:"row",alignSelf:"self-end",children:(0,E.jsx)(Ee.Z,{size:"small",placeholder:"Search...",autoComplete:"off",InputProps:{startAdornment:(0,E.jsx)(r.Z,{iconName:"Search"}),endAdornment:(0,E.jsx)(Ie.Z,{size:"small",sx:{padding:"4px"},onClick:()=>{var e,t;(null!==(e=T.current)&&void 0!==e&&e.value||""!==(null===(t=T.current)||void 0===t?void 0:t.value))&&(T.current.value="",P.refetch())},children:(0,E.jsx)(r.Z,{iconName:"Cancel"})})},inputRef:T,onKeyDown:e=>{"Enter"===e.key&&P.refetch()},sx:{".MuiInputBase-input":{paddingLeft:1},".MuiOutlinedInput-notchedOutline":{borderColor:"#E9ECEF"}}})}),(0,E.jsxs)(c.Z,{gap:2,flexGrow:"inherit",children:[(0,E.jsx)(qe.Z,{rows:N,columns:K,rowId:e=>e.id,tableProps:{size:"small",stickyHeader:!1},tableRowProps:{hover:!0},onSortChange:e=>{A({sort_by:null===e||void 0===e?void 0:e.field,order:null===e||void 0===e?void 0:e.order})},loading:P.isLoading}),(0,E.jsx)(Pe.Z,{page:D.page,size:null===(_=P.data)||void 0===_?void 0:_.data.size,totalPages:null===(g=P.data)||void 0===g?void 0:g.data.pagesTotal,onPageChange:e=>{G({...D,page:e})}})]})]})},Yt=(0,l.memo)(Ut);function Vt(){var e,t,a,n,r,i,u;const m=(0,d.Z)(),{id:p}=(0,s.UO)(),{showSnackbar:h,hideSnackbar:v}=(0,Q.Ds)(),x=(0,Qt.Xw)(p),_=(0,Qt.Y6)(),g=null===(e=x.data)||void 0===e?void 0:e.data,[b,y]=(0,l.useState)(null),f=e=>()=>{_.mutateAsync({request:{owner_id:p,owner_status:e}}).then((e=>{var t;x.refetch(),h({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>v()})})).catch((e=>{var t,a;h({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>v()})}))};return(0,E.jsxs)(c.Z,{gap:10,overflow:"auto",flexBasis:"1px",flexGrow:1,paddingY:3,children:[(0,E.jsxs)(c.Z,{gap:"20px",flexDirection:"row",children:[(0,E.jsx)(Ae.$m,{heading:"Owner Name",content:null===g||void 0===g?void 0:g.owner_details.owner_name,sx:{width:400}}),(0,E.jsx)(Ae.$m,{heading:"Agreement Period",content:null===g||void 0===g?void 0:g.owner_details.agreement_period}),(0,E.jsx)(Ae.$m,{heading:"Agreed Percentage",content:"0"!==(null===g||void 0===g?void 0:g.owner_details.agreed_percentage)?"".concat(null!==(t=null===g||void 0===g?void 0:g.owner_details.agreed_percentage)&&void 0!==t?t:"","%"):"NA"}),(0,E.jsx)(Ae.$m,{heading:"Agreement Type",content:null===g||void 0===g?void 0:g.owner_details.agreement_type,sx:{width:350}}),(0,E.jsx)(Ae.$m,{heading:"Payment Method",content:null===g||void 0===g?void 0:g.owner_details.payment_type,sx:{width:296}})]}),(0,E.jsx)(c.Z,{display:"flex",sx:{width:"100%"},children:(0,E.jsx)(c.Z,{children:(0,E.jsxs)(c.Z,{gap:"1%",flexDirection:"row",children:[(0,E.jsxs)(c.Z,{flexBasis:"100%",gap:2,sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:2}},children:[(0,E.jsx)(o.KH,{variant:"subtitle2",sx:{color:m.palette.common.primaryGreyText,textTransform:"uppercase"},fontWeight:600,children:"Owner Details"}),(0,E.jsx)(F.Z,{data:[{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Email ID  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.owner_details.owner_email}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Phone Number  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.owner_details.owner_contact_no}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Added By  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.owner_details.added_by}),showWhen:!0}]})]}),(0,E.jsxs)(c.Z,{flexBasis:"100%",gap:2,sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& .tdValue":{paddingLeft:2},"& tr":{verticalAlign:"top"}},children:[(0,E.jsx)(o.KH,{variant:"subtitle2",sx:{color:m.palette.common.primaryGreyText,textTransform:"uppercase"},fontWeight:600,children:"Business Details"}),(0,E.jsx)(F.Z,{data:[{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Business Name  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bussiness_details.business_name}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Business Type  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bussiness_details.business_type}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Registered Address "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bussiness_details.address}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Renewal On "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:We()(null===g||void 0===g?void 0:g.bussiness_details.renewal_on).format("DD MMM YYYY")}),showWhen:!0}]})]}),(0,E.jsxs)(c.Z,{flexBasis:"100%",gap:2,sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& .tdValue":{paddingLeft:2},"& tr":{verticalAlign:"top"}},children:[(0,E.jsx)(o.KH,{variant:"subtitle2",sx:{color:m.palette.common.primaryGreyText,textTransform:"uppercase"},fontWeight:600,children:"Documents Details"}),(0,E.jsx)(F.Z,{data:[{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Registration Certificate  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsxs)(c.Z,{sx:{flexDirection:"row",justifyContent:"space-between",gap:1},children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.primary.main,paddingLeft:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>{var e,t,a,n,r,o;return y({render:(0,E.jsx)(L.Z,{fieldName:"Registration Certificate",file:null!==(e=null===g||void 0===g||null===(t=g.document_details)||void 0===t?void 0:t.registration_certificate_pic)&&void 0!==e?e:""}),heading:"Registration Certificate",type:"Registration Certificate",disableAccept:"1"===(null===g||void 0===g||null===(a=g.document_details)||void 0===a?void 0:a.registration_certificate_status)||"2"===(null===g||void 0===g||null===(n=g.document_details)||void 0===n?void 0:n.registration_certificate_status),disableReject:"1"===(null===g||void 0===g||null===(r=g.document_details)||void 0===r?void 0:r.registration_certificate_status)||"2"===(null===g||void 0===g||null===(o=g.document_details)||void 0===o?void 0:o.registration_certificate_status)})},children:"View Details"}),(0,E.jsx)($t,{status:null===g||void 0===g||null===(a=g.document_details)||void 0===a?void 0:a.registration_certificate_status})]}),showWhen:"Proprietorship"!==(null===g||void 0===g?void 0:g.bussiness_details.business_type)},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"PAN Details "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsxs)(c.Z,{sx:{flexDirection:"row",justifyContent:"space-between",gap:1},children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.primary.main,paddingLeft:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>{var e,t,a,n,r,o;return y({render:(0,E.jsx)(L.Z,{fieldName:"pan",file:null!==(e=null===g||void 0===g||null===(t=g.document_details)||void 0===t?void 0:t.pan_no_url_pic)&&void 0!==e?e:""}),heading:"PAN Details",type:"PAN",disableAccept:"1"===(null===g||void 0===g||null===(a=g.document_details)||void 0===a?void 0:a.pan_status)||"2"===(null===g||void 0===g||null===(n=g.document_details)||void 0===n?void 0:n.pan_status),disableReject:"1"===(null===g||void 0===g||null===(r=g.document_details)||void 0===r?void 0:r.pan_status)||"2"===(null===g||void 0===g||null===(o=g.document_details)||void 0===o?void 0:o.pan_status)})},children:null===g||void 0===g||null===(n=g.document_details)||void 0===n?void 0:n.pan_no}),(0,E.jsx)($t,{status:null===g||void 0===g||null===(r=g.document_details)||void 0===r?void 0:r.pan_status})]}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"GST Number  "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsxs)(c.Z,{sx:{flexDirection:"row",justifyContent:"space-between",gap:1},children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.primary.main,paddingLeft:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>{var e,t,a,n,r,o;return y({render:(0,E.jsx)(L.Z,{fieldName:"pan",file:null!==(e=null===g||void 0===g||null===(t=g.document_details)||void 0===t?void 0:t.gst_no_url_pic)&&void 0!==e?e:""}),heading:"GST Certificate",type:"GST Number",disableAccept:"1"===(null===g||void 0===g||null===(a=g.document_details)||void 0===a?void 0:a.gst_status)||"2"===(null===g||void 0===g||null===(n=g.document_details)||void 0===n?void 0:n.gst_status),disableReject:"1"===(null===g||void 0===g||null===(r=g.document_details)||void 0===r?void 0:r.gst_status)||"2"===(null===g||void 0===g||null===(o=g.document_details)||void 0===o?void 0:o.gst_status)})},children:null===g||void 0===g||null===(i=g.document_details)||void 0===i?void 0:i.gst_no}),(0,E.jsx)($t,{status:null===g||void 0===g||null===(u=g.document_details)||void 0===u?void 0:u.gst_status})]}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Bank Details "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsxs)(c.Z,{sx:{flexDirection:"row",justifyContent:"space-between",gap:1},children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.primary.main,paddingLeft:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>{var e;return y({render:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(L.Z,{fieldName:"bank",file:null!==(e=null===g||void 0===g?void 0:g.bank_details.bank_cheque_url_pic)&&void 0!==e?e:""}),(0,E.jsx)(c.Z,{sx:{"& table":{borderCollapse:"separate",borderSpacing:"0 4px"},"& tr":{verticalAlign:"top"},"& .tdValue":{paddingLeft:3,".inputField-root":{gap:0}}},children:(0,E.jsx)(F.Z,{data:[{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Account Holder Name "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bank_details.acc_holder_name}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Bank Name"}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bank_details.bank_name}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"Account Number "}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bank_details.account_number}),showWhen:!0},{name:(0,E.jsxs)(c.Z,{flexDirection:"row",justifyContent:"space-between",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:"IFSC"}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.secondaryGreyText},children:":"})]}),value:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:m.palette.common.primaryGreyText},children:null===g||void 0===g?void 0:g.bank_details.ifscode_number})}),showWhen:!0}]})})]}),heading:"Bank Details",type:"Bank Details",disableAccept:"1"===(null===g||void 0===g?void 0:g.bank_details.bank_details_status)||"2"===(null===g||void 0===g?void 0:g.bank_details.bank_details_status),disableReject:"1"===(null===g||void 0===g?void 0:g.bank_details.bank_details_status)||"2"===(null===g||void 0===g?void 0:g.bank_details.bank_details_status)})},children:"View Details"}),(0,E.jsx)($t,{status:null===g||void 0===g?void 0:g.bank_details.bank_details_status})]}),showWhen:!(null!==g&&void 0!==g&&g.owner_details.payment_type.toLowerCase().includes("Decentralised".toLowerCase()))}]})]})]})})}),(0,E.jsx)(c.Z,{flexDirection:"row",gap:2,paddingLeft:2,children:"1"===(null===g||void 0===g?void 0:g.owner_details.owner_status)?(0,E.jsx)(le.Z,{size:"large",color:"success",variant:"contained",sx:{width:196},loading:_.isLoading,children:(0,E.jsx)(o.KH,{variant:"h6",color:"white",children:"Approved"})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(le.Z,{size:"large",variant:"outlined",color:"inherit",disabled:_.isLoading,sx:{borderColor:m.palette.common.secondaryGreyText,width:196},onClick:f("reject"),children:(0,E.jsx)(o.KH,{variant:"h6",children:"Reject"})}),(0,E.jsx)(le.Z,{size:"large",color:"primary",variant:"contained",sx:{width:196},loading:_.isLoading,onClick:f("approved"),disabled:"1"!==(null===g||void 0===g?void 0:g.document_details.pan_status)||"Proprietorship"!==(null===g||void 0===g?void 0:g.bussiness_details.business_type)&&"1"!==(null===g||void 0===g?void 0:g.document_details.registration_certificate_status)||"1"!==(null===g||void 0===g?void 0:g.document_details.gst_status)||!(null!==g&&void 0!==g&&g.owner_details.payment_type.toLowerCase().includes("Decentralised".toLowerCase()))&&"1"!==(null===g||void 0===g?void 0:g.bank_details.bank_details_status),children:(0,E.jsx)(o.KH,{variant:"h6",children:"Approve"})})]})}),(0,E.jsx)(Be.h,{useApi:"owner",id:p,render:null===b||void 0===b?void 0:b.render,heading:null===b||void 0===b?void 0:b.heading,type:null===b||void 0===b?void 0:b.type,handleClose:()=>y(null),refetch:()=>{x.refetch(),y(null)},disableAccept:null===b||void 0===b?void 0:b.disableAccept,disableReject:null===b||void 0===b?void 0:b.disableReject})]})}const Xt=(0,l.memo)(Vt),$t=e=>{const t=(0,d.Z)();return(0,E.jsx)(r.Z,{iconName:"Checked",iconProps:{fill:"0"===e.status?t.palette.common.secondaryGreyText:"1"===e.status?t.palette.success.main:t.palette.error.main}})};var Jt=a(6600);function ea(e){var t,a,n,s,u;const m=(0,d.Z)(),{showSnackbar:p,hideSnackbar:h}=(0,Q.Ds)(),v=(0,Jt.Zb)(),x=(0,l.useRef)(null),[_,g]=(0,l.useState)({page:1,size:10}),[b,y]=(0,l.useState)({}),[f,j]=(0,l.useState)(!1),w=(0,Jt.dJ)({..._,...b,search:null===(t=x.current)||void 0===t?void 0:t.value}),Z=null!==(a=null===(n=w.data)||void 0===n?void 0:n.data.data)&&void 0!==a?a:[],C=[{field:"SL No",renderHeader:()=>"SL No",renderCell:e=>{var t,a,n,r;let{rowNumber:o}=e;return(0,i.ks)(null!==(t=null===(a=w.data)||void 0===a?void 0:a.data.page)&&void 0!==t?t:0,null!==(n=null===(r=w.data)||void 0===r?void 0:r.data.size)&&void 0!==n?n:0,o)}},{field:"header",renderHeader:()=>"Header",renderCell:e=>{let{row:t}=e;return t.message_title},sortable:!0},{field:"info_text",renderHeader:()=>"Info Text",renderCell:e=>{let{row:t}=e;return t.message_info_text},sortable:!0},{field:"body_type",renderHeader:()=>"Body Type",renderCell:e=>{let{row:t}=e;return t.message_body_type}},{field:"category",renderHeader:()=>"Category",renderCell:e=>{let{row:t}=e;return t.message_category}},{field:"time",renderHeader:()=>"Time",renderCell:e=>{let{row:t}=e;return null===t.schedule_time?"Instant":We()(t.schedule_time).format("DD MMM, H A")}},{field:"status",renderHeader:()=>"Status",renderCell:e=>{let{row:t}=e;return(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:"Sent"===t.message_status?m.palette.success.main:m.palette.warning.main},children:t.message_status})}},{field:"action",renderHeader:()=>"Quick Action",renderCell:t=>{let{row:a}=t;return(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,children:[(0,E.jsx)(r.Z,{iconName:"OpenEye",iconProps:{fill:m.palette.secondary.main,cursor:"pointer",onClick:()=>j(a.notification_id)}}),(0,E.jsx)(r.Z,{iconName:"Pen",iconProps:{cursor:"pointer",onClick:()=>e.isToUpdate(a.notification_id)}}),(0,E.jsx)(r.Z,{iconName:"Send",iconProps:{cursor:"pointer",onClick:()=>T(a)}})]})}}],T=e=>{v.mutateAsync({id:e.notification_id,request:e}).then((e=>{var t;p({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>h()}),w.refetch()})).catch((e=>{var t,a;p({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>h()})}))};return(0,E.jsxs)(c.Z,{gap:1,flexGrow:"inherit",children:[(0,E.jsx)(c.Z,{gap:2,flexDirection:"row",alignSelf:"self-end",children:(0,E.jsx)(Ee.Z,{size:"small",placeholder:"Search...",autoComplete:"off",InputProps:{startAdornment:(0,E.jsx)(r.Z,{iconName:"Search"}),endAdornment:(0,E.jsx)(Ie.Z,{size:"small",sx:{padding:"4px"},onClick:()=>{var e,t;(null!==(e=x.current)&&void 0!==e&&e.value||""!==(null===(t=x.current)||void 0===t?void 0:t.value))&&(x.current.value="",w.refetch())},children:(0,E.jsx)(r.Z,{iconName:"Cancel"})})},inputRef:x,onKeyDown:e=>{"Enter"===e.key&&w.refetch()},sx:{".MuiInputBase-input":{paddingLeft:1},".MuiOutlinedInput-notchedOutline":{borderColor:"#E9ECEF"}}})}),(0,E.jsx)(qe.Z,{rows:Z,columns:C,rowId:e=>e.id,tableProps:{size:"small",stickyHeader:!1},tableRowProps:{hover:!0},onSortChange:e=>{y({sort_by:null===e||void 0===e?void 0:e.field,order:null===e||void 0===e?void 0:e.order})},loading:w.isLoading}),(0,E.jsx)(c.Z,{children:(0,E.jsx)(Pe.Z,{page:_.page,size:null===(s=w.data)||void 0===s?void 0:s.data.size,totalPages:null===(u=w.data)||void 0===u?void 0:u.data.pagesTotal,onPageChange:e=>{g({..._,page:e})}})}),(0,E.jsx)(aa,{open:f,handleClose:()=>j(!1)})]})}const ta=(0,l.memo)(ea),aa=e=>{var t,a;const n=(0,d.Z)(),r=null===(t=(0,Jt.z8)(e.open).data)||void 0===t?void 0:t.data.data;return(0,E.jsxs)(Tt.Z,{onClose:e.handleClose,open:Boolean(e.open),maxWidth:"sm",sx:{".MuiDialog-paper":{width:646}},children:[(0,E.jsx)(St.Z,{sx:{padding:4,paddingBottom:3},children:(0,E.jsx)(o.KH,{variant:"subtitle1",align:"center",sx:{color:n.palette.common.secondaryGreyText},children:"Notification Preview"})}),(0,E.jsxs)(kt.Z,{sx:{display:"flex",flexDirection:"column",gap:4,padding:4},children:[(0,E.jsxs)(c.Z,{alignItems:"center",children:[(0,E.jsx)(o.KH,{variant:"subtitle1",fontSize:24,fontWeight:600,sx:{color:n.palette.common.primaryGreyText},children:null===r||void 0===r?void 0:r.message_title}),(0,E.jsx)(o.KH,{variant:"caption",sx:{color:n.palette.common.primaryGreyText},children:null===r||void 0===r?void 0:r.message_info_text})]}),(0,E.jsxs)(c.Z,{alignItems:"center",gap:2,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:n.palette.common.primaryGreyText},children:null===r||void 0===r?void 0:r.message_body}),(0,E.jsx)(L.Z,{fieldName:"message_img",sx:{flexDirection:"column",alignItems:"center",placeContent:"center",width:440,height:196,borderRadius:"16px",borderStyle:"solid",borderWidth:"1px",borderColor:n.palette.primary.main},file:null!==(a=null===r||void 0===r?void 0:r.message_img)&&void 0!==a?a:""})]}),(0,E.jsx)(c.Z,{flexDirection:"row",gap:2,alignSelf:"center",paddingTop:"32px",children:(0,E.jsx)(le.Z,{variant:"contained",size:"large",sx:{width:166,height:46,borderRadius:"4px"},onClick:e.handleClose,children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"Ok"})})})]})]})};var na=a(9550),ra=a(3208),oa=a(302),ia=a(7426);const la=[{value:"text",label:"Text"},{value:"image",label:"Image"}],sa=[{value:"instant",label:"Instant"},{value:"schedule send",label:"Schedule Send"}],da={message_img:"",message_title:"",message_info_text:"",message_body_type:la[0],message_body:"",message_category:"",message_type:sa[0],hr:"",min:"",ampm:"",ddmm:""},ca={message_img:"",message_title:"",message_info_text:"",message_body_type:"",message_body:"",message_category:"",message_type:"",hr:"",min:"",ampm:"",ddmm:""},ua=e=>{var t,a,n,i,s;const u=(0,d.Z)(),{showSnackbar:m,hideSnackbar:p}=(0,Q.Ds)(),h=(0,Jt.Ao)(e.isToUpdate),v=(0,Jt.zm)(),x=(0,Jt.z8)(e.isToUpdate),[g,b]=(0,l.useState)(da),[y,f]=(0,l.useState)(ca),j=(e,t)=>{const a={...g,[e]:t};b(a),f({...y,[e]:(0,Jt.ar)(e,a)})},w=null===(t=x.data)||void 0===t?void 0:t.data.data;return(0,l.useEffect)((()=>{var t,a,n,r,o,i,l,s,d,c,u,m,p;e.isToUpdate&&b({message_category:null!==(t={label:null!==(a=null===(n=v.data)||void 0===n||null===(r=n.data.categoryData.find((e=>e.msg_category_id===(null===w||void 0===w?void 0:w.message_category))))||void 0===r?void 0:r.message_category)&&void 0!==a?a:"",value:null!==(o=null===(i=v.data)||void 0===i||null===(l=i.data.categoryData.find((e=>e.msg_category_id===(null===w||void 0===w?void 0:w.message_category))))||void 0===l?void 0:l.msg_category_id)&&void 0!==o?o:""})&&void 0!==t?t:"",message_info_text:null!==(s=null===w||void 0===w?void 0:w.message_info_text)&&void 0!==s?s:"",message_title:null!==(d=null===w||void 0===w?void 0:w.message_title)&&void 0!==d?d:"",message_body_type:null!==(c=la.find((e=>e.value===(null===w||void 0===w?void 0:w.message_body_type))))&&void 0!==c?c:"",message_type:null!==(u=sa.find((e=>e.value===(null===w||void 0===w?void 0:w.message_type))))&&void 0!==u?u:"",message_body:null!==(m=null===w||void 0===w?void 0:w.message_body)&&void 0!==m?m:"",message_img:null!==(p=null===w||void 0===w?void 0:w.message_img)&&void 0!==p?p:"",hr:{label:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).hours()%12):"",value:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).hours()%12):""},min:{label:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).minutes()):"",value:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).minutes()):""},ampm:{label:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).format("A")):"",value:null!==w&&void 0!==w&&w.schedule_time?String(We()(null===w||void 0===w?void 0:w.schedule_time).format("A")):""},ddmm:null!==w&&void 0!==w&&w.schedule_time?We()(null===w||void 0===w?void 0:w.schedule_time).format("MM-DD-YYYY"):""})}),[e.isToUpdate,w]),(0,E.jsxs)(c.Z,{gap:6,children:[(0,E.jsxs)(c.Z,{gap:3,children:[(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:u.palette.common.secondaryGreyText},children:"Create New Notification"}),(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(_.Z,{fieldName:"message_category",value:g.message_category,fieldProps:{placeholder:"Select category",error:Boolean(y.message_category),helperText:y.message_category,size:"medium",options:null===(a=v.data)||void 0===a?void 0:a.data.categoryData.map((e=>({label:String(e.message_category),value:String(e.msg_category_id)}))),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:356},"& .MuiTypography-subtitle1":{color:u.palette.common.primaryGreyText}}},fieldType:"select",onChange:j}),(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"message_info_text",value:g.message_info_text,fieldProps:{placeholder:"Information Text",size:"medium",error:Boolean(y.message_info_text),helperText:y.message_info_text,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:356}}},onChange:j})]})]}),(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"message_title",value:g.message_title,fieldProps:{placeholder:"Type Heading",size:"medium",error:Boolean(y.message_title),helperText:y.message_title,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:356}}},onChange:j}),(0,E.jsx)(_.Z,{fieldName:"message_body_type",value:g.message_body_type,fieldProps:{placeholder:"Select Body Type",error:Boolean(y.message_body_type),helperText:y.message_body_type,size:"medium",options:la,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:356},"& .MuiTypography-subtitle1":{color:u.palette.common.primaryGreyText}}},fieldType:"select",onChange:j}),"image"===(null===(n=g.message_body_type)||void 0===n?void 0:n.value)?(0,E.jsxs)(L.Z,{fieldName:"message_img",sx:{flexDirection:"column",alignItems:"center",placeContent:"center",width:356,height:129,borderRadius:"8px",borderStyle:"solid",borderWidth:"1px",borderColor:u.palette.common.secondaryGreyText},file:g.message_img,onChange:e=>j("message_img",e.target.files),children:[(0,E.jsx)(r.Z,{iconName:"Upload"}),(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:u.palette.common.secondaryGreyText},children:"Upload image"}),(0,E.jsx)(o.KH,{variant:"caption",sx:{color:u.palette.common.secondaryGreyText},children:"Max size 300KB"})]}):(0,E.jsx)(_.Z,{fieldName:"message_body",value:g.message_body,fieldProps:{placeholder:"Type body text...",multiline:!0,maxRows:5,size:"medium",sx:{"& .MuiInputBase-input":{height:"119px !important",paddingX:"14px",paddingY:"16px",fontSize:"18px",color:u.palette.common.primaryGreyText,fontFamily:"Fira Sans",overflow:"auto"},"& .MuiInputBase-root":{width:356,padding:0,borderRadius:"8px",borderColor:u.palette.common.secondaryGreyText}},error:Boolean(y.message_body),helperText:y.message_body},onChange:j})]}),(0,E.jsxs)(c.Z,{gap:1,children:[(0,E.jsx)(_.Z,{fieldName:"message_type",value:g.message_type,fieldProps:{placeholder:"Select Send Type",error:Boolean(y.message_type),helperText:y.message_type,size:"medium",options:sa,sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiInputBase-root":{width:356},"& .MuiTypography-subtitle1":{color:u.palette.common.primaryGreyText}}},fieldType:"select",onChange:j}),"schedule send"===(null===(i=g.message_type)||void 0===i?void 0:i.value)&&(0,E.jsxs)(c.Z,{flexDirection:"row",gap:4,alignItems:"center",children:[(0,E.jsx)(ra._,{dateAdapter:ia.Q,children:(0,E.jsx)(na.C,{components:["DatePicker"],children:(0,E.jsx)(oa.M,{format:"DD/MM/YYYY",slotProps:{textField:{placeholder:"DD/MM/YYYY",error:Boolean(y.ddmm)}},onChange:e=>j("ddmm",null===e||void 0===e?void 0:e.format("MM-DD-YYYY")),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px",width:146},"& .MuiInputBase-input":{height:11,width:150}},value:We()(g.ddmm)})})}),(0,E.jsxs)(c.Z,{flexDirection:"row",gap:1,children:[(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"hr",value:g.hr,fieldProps:{placeholder:"Hours",size:"medium",error:Boolean(y.hr),options:Array.from(Array(12).keys()).map((e=>({label:String(e+1),value:String(e+1)}))),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px",minWidth:"114px"},"& .MuiInputBase-input":{height:11},"& .MuiAutocomplete-clearIndicator":{display:"none"},"& .MuiAutocomplete-inputRoot":{minWidth:"114px"}}},fieldType:"select",onChange:j}),(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"min",value:g.min,fieldProps:{placeholder:"Min",size:"medium",error:Boolean(y.min),options:Array.from(Array(60).keys()).map((e=>({label:String(e),value:String(e)}))),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px",minWidth:"114px"},"& .MuiInputBase-input":{height:11},"& .MuiAutocomplete-clearIndicator":{display:"none"},"& .MuiAutocomplete-inputRoot":{minWidth:"114px"}}},fieldType:"select",onChange:j})]}),(0,E.jsx)(_.Z,{showLabel:!1,fieldName:"ampm",value:g.ampm,fieldProps:{placeholder:"AM",size:"medium",error:Boolean(y.ampm),options:["AM","PM"].map((e=>({label:e,value:e}))),sx:{paddingLeft:"10px",width:"73px","& .MuiOutlinedInput-notchedOutline":{borderColor:u.palette.common.secondaryGreyText,borderRadius:"8px"},"& .MuiInputBase-input":{height:11},"& .MuiAutocomplete-clearIndicator":{display:"none"},"& .MuiAutocomplete-inputRoot":{width:"73px"}}},fieldType:"select",onChange:j})]})]}),(0,E.jsx)(le.Z,{size:"large",variant:"contained",color:"primary",sx:{width:209,height:51,borderRadius:"8px",marginTop:10},onClick:()=>{var e,t,a,n,r,o,i;const l=(0,Jt.a7)(g);l.hasError?f(l.errors):h.mutateAsync({request:{message_category:null===(e=g.message_category)||void 0===e?void 0:e.value,message_info_text:g.message_info_text,message_title:g.message_title,message_body_type:null===(t=g.message_body_type)||void 0===t?void 0:t.value,message_type:null===(a=g.message_type)||void 0===a?void 0:a.value,..."text"===g.message_body_type.value&&{message_body:g.message_body},..."image"===g.message_body_type.value&&{message_img:g.message_img},..."schedule send"===(null===(n=g.message_type)||void 0===n?void 0:n.value)&&{schedule_time:"".concat(g.ddmm," ").concat(null===(r=g.hr)||void 0===r?void 0:r.value,":").concat(null===(o=g.min)||void 0===o?void 0:o.value," ").concat(null===(i=g.ampm)||void 0===i?void 0:i.value)}}}).then((e=>{var t;m({title:"Success!",variant:"sucess",content:null===(t=e.data)||void 0===t?void 0:t.message,onCancel:()=>p()}),b(da)})).catch((e=>{var t,a;m({title:"Error!",variant:"error",content:null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message,onCancel:()=>p()})}))},loading:v.isLoading,children:(0,E.jsx)(o.KH,{variant:"subtitle1",children:"schedule send"===(null===(s=g.message_type)||void 0===s?void 0:s.value)?"Save":"Send Now"})})]})},ma=(0,l.memo)(ua),pa=["ALL NOTIFICATIONS","CREATE"];function ha(){(0,ee.Q)(ee.D.notifications);const e=(0,d.Z)(),[t,a]=(0,l.useState)(0),[n,r]=(0,l.useState)(!1);return(0,E.jsx)(c.Z,{gap:2,flexGrow:"inherit",children:(0,E.jsxs)(c.Z,{gap:2,flexGrow:1,children:[(0,E.jsx)(be.Z,{sx:{width:"100%",padding:"8px",backgroundColor:"#E9EBF0",borderRadius:"8px"},children:(0,E.jsx)(at.Z,{value:t,onChange:(e,t)=>{a(t),r(!1)},children:pa.map(((t,a)=>(0,E.jsx)(nt.Z,{sx:{minWidth:"50%"},label:(0,E.jsx)(o.KH,{variant:"subtitle1",sx:{color:e.palette.common.primaryGreyText},children:t})},a)))})}),0===t&&(0,E.jsx)(ta,{isToUpdate:e=>{r(e),a(1)}}),1===t&&(0,E.jsx)(ma,{isToUpdate:n})]})})}const va=(0,l.memo)(ha),xa=(0,l.lazy)((()=>a.e(808).then(a.bind(a,3808)))),_a=(0,l.lazy)((()=>a.e(286).then(a.bind(a,3286)))),ga=(0,l.lazy)((()=>a.e(897).then(a.bind(a,5897)))),ba=(0,l.lazy)((()=>a.e(619).then(a.bind(a,5619)))),ya=(0,l.lazy)((()=>a.e(70).then(a.bind(a,4070)))),fa=(0,l.lazy)((()=>a.e(135).then(a.bind(a,7135)))),ja=(0,l.lazy)((()=>a.e(839).then(a.bind(a,4839)))),wa=(0,l.lazy)((()=>Promise.all([a.e(970),a.e(323)]).then(a.bind(a,8323)))),Za=(0,l.lazy)((()=>Promise.all([a.e(599),a.e(424)]).then(a.bind(a,424)))),Ca=(0,l.lazy)((()=>a.e(920).then(a.bind(a,7920)))),Ta=(0,l.lazy)((()=>a.e(493).then(a.bind(a,7493)))),Sa=(0,l.lazy)((()=>Promise.all([a.e(970),a.e(804)]).then(a.bind(a,6286)))),ka=(0,l.lazy)((()=>a.e(437).then(a.bind(a,4437)))),Da=(0,l.lazy)((()=>a.e(751).then(a.bind(a,2751)))),Ga=()=>(0,s.TH)().pathname.includes("/admin/")?(0,i.tq)()?(0,E.jsx)(l.Suspense,{fallback:null,children:(0,E.jsxs)(s.Z5,{children:[(0,E.jsx)(s.AW,{path:"/admin/login",element:(0,E.jsx)(ya,{})}),(0,E.jsx)(s.AW,{path:"/admin/forgot-password",element:(0,E.jsx)(fa,{})}),(0,E.jsx)(s.AW,{path:"/admin/reset-password",element:(0,E.jsx)(ja,{})}),(0,E.jsxs)(s.AW,{path:"/admin",element:(0,E.jsx)(xa,{navigateTo:"/admin/login",children:(0,E.jsx)(ba,{})}),children:[(0,E.jsx)(s.AW,{path:"home",element:(0,E.jsx)(wa,{})}),(0,E.jsx)(s.AW,{path:"subadmin",element:(0,E.jsx)(Za,{})}),(0,E.jsx)(s.AW,{path:"subadmin/add",element:(0,E.jsx)(Ca,{})}),(0,E.jsx)(s.AW,{path:"subadmin/update/:id/:step",element:(0,E.jsx)(te,{})}),(0,E.jsx)(s.AW,{path:"restaurants",element:(0,E.jsx)(_a,{})}),(0,E.jsx)(s.AW,{path:"users",element:(0,E.jsx)(Qe,{})}),(0,E.jsx)(s.AW,{path:"restaurants/:id",element:(0,E.jsx)(ga,{})}),(0,E.jsx)(s.AW,{path:"restaurants/update/:id",element:(0,E.jsx)(ga,{})}),(0,E.jsx)(s.AW,{path:"masterList",element:(0,E.jsx)(Ta,{})}),(0,E.jsx)(s.AW,{path:"qrcode",element:(0,E.jsx)(Lt,{})}),(0,E.jsx)(s.AW,{path:"owners",element:(0,E.jsx)(Yt,{})}),(0,E.jsx)(s.AW,{path:"owners/:id",element:(0,E.jsx)(Xt,{})}),(0,E.jsx)(s.AW,{path:"settings",element:(0,E.jsx)(He,{})}),(0,E.jsx)(s.AW,{path:"banner",element:(0,E.jsx)(et,{})}),(0,E.jsx)(s.AW,{path:"notifications",element:(0,E.jsx)(va,{})}),(0,E.jsx)(s.AW,{path:"reports",element:(0,E.jsx)(Sa,{})}),(0,E.jsx)(s.AW,{path:"investment",element:(0,E.jsx)(ka,{})}),(0,E.jsx)(s.AW,{path:"settlement",element:(0,E.jsx)(Da,{})})]})]})}):(0,E.jsxs)(n.Z,{sx:{flexDirection:"column"},children:[(0,E.jsx)(r.Z,{iconName:"MobileLoginLogo"}),(0,E.jsx)(o.KH,{align:"center",variant:"h4",color:"white",children:"Sorry ! we only operate on desktop devices"})]}):(0,E.jsx)(E.Fragment,{}),Ha=(0,l.memo)(Ga)},5953:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(2389),r=a(2703),o=a(9860),i=a(2832),l=a(7313),s=a(6417);const d=e=>{const t=(0,o.Z)();return(0,s.jsxs)(i.Z,{flexDirection:"row",gap:2,children:[e.onPreviousClick&&(0,s.jsx)(r.Z,{variant:"outlined",size:"large",sx:{width:196},onClick:e.onPreviousClick,children:(0,s.jsx)(n.KH,{fontSize:18,sx:{color:t.palette.common.primaryGreyText},children:"Previous"})}),e.onNextClick&&(0,s.jsx)(r.Z,{loading:e.loading,variant:"contained",size:"large",sx:{width:196},onClick:e.onNextClick,children:(0,s.jsx)(n.KH,{fontSize:18,children:"Next"})}),e.onCreateClick&&(0,s.jsx)(r.Z,{loading:e.loading,variant:"contained",size:"large",sx:{width:196},onClick:e.onCreateClick,children:(0,s.jsx)(n.KH,{fontSize:18,children:"Create"})}),e.onUpdateClick&&(0,s.jsx)(r.Z,{loading:e.loading,variant:"contained",size:"large",sx:{width:196},onClick:e.onUpdateClick,children:(0,s.jsx)(n.KH,{fontSize:18,children:"Update"})})]})},c=(0,l.memo)(d)}}]);