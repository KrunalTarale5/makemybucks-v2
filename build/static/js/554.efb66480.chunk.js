"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[554],{9867:(e,r,s)=>{s.d(r,{A:()=>d});var t=s(895),n=s(3230),a=s(5098),o=s(4877),i=s(2757),l=s(8429),c=s(4414);const d=e=>{const r=(0,l.Zp)();return(0,c.jsx)(t.A,{children:(0,c.jsxs)(n.A,{alignItems:"center",gap:5,children:[(0,c.jsx)(o.A,{iconName:"SuccessLogo"}),(0,c.jsxs)(n.A,{gap:4,width:"100%",alignItems:"center",children:[(0,c.jsx)(i.YP,{variant:"h2",color:"#DAE0FF",children:"Success !"}),(0,c.jsx)(i.YP,{variant:"subtitle1",color:"white",children:e.message}),(0,c.jsx)(a.A,{size:"large",variant:"contained",color:"ternary",onClick:()=>{r("/admin/login")},sx:{minWidth:436,height:66},children:(0,c.jsx)(i.YP,{variant:"h5",fontWeight:600,children:"Back to Login"})})]})]})})}},9554:(e,r,s)=>{s.r(r),s.d(r,{default:()=>A});var t=s(895),n=s(3230),a=s(5098),o=s(4877),i=s(2757),l=s(9950),c=s(5746),d=s(2095),h=s(9246),u=s(1920);const p={new_password:{label:"Enter  New Password",type:"password"},confirm_password:{label:"Re-Enter Password",type:"password"}},w=(e,r)=>{switch(e){case"new_password":return(0,d.Oj)(r[e]);case"confirm_password":return(0,d.lx)(r[e],r.new_password);default:return""}};var g=s(7758),x=s(9867),m=s(2074),j=s(4710),f=s(4414);const v={new_password:"",confirm_password:""},y={new_password:"",confirm_password:""},A=()=>{const{showSnackbar:e,hideSnackbar:r}=(0,j.dh)(),[s]=(0,m.ok)(),d=(0,u.useMutation)((e=>(0,h.A)({method:"POST",url:"/verify_otp_and_reset_password/",data:e.request}))),[A,_]=(0,l.useState)(v),[b,k]=(0,l.useState)(y),P=(e,r)=>{const s={...A,[e]:r};_(s),k({...b,[e]:w(e,s)})};return(0,f.jsx)(f.Fragment,{children:d.isSuccess?(0,f.jsx)(x.A,{message:"Password reset successfully"}):(0,f.jsx)(t.A,{backgroundImage:!0,children:(0,f.jsxs)(n.A,{alignItems:"center",gap:5,children:[(0,f.jsx)(o.A,{iconName:"DesktopResetLogo"}),(0,f.jsxs)(n.A,{gap:2,width:"100%",alignItems:"center",children:[(0,f.jsx)(i.YP,{variant:"h4",color:"white",children:"Reset Password"}),(0,f.jsx)(i.YP,{variant:"subtitle1",color:"white",children:"Enter your Details and we\u2019ll send you an email with instructions to reset your password."})]}),(0,f.jsxs)(n.A,{gap:4,width:"70%",alignItems:"center",children:[(0,f.jsx)(n.A,{gap:2,width:"100%",children:Object.entries(p).map((e=>{const r=e[0],s=e[1];return(0,f.jsx)(g.A,{fieldName:r,value:A[r],fieldProps:{...s,color:"secondary",fullWidth:!0,sx:{".MuiTypography-subtitle1":{color:"white",fontFamily:"inter"},"& .MuiOutlinedInput-notchedOutline":{color:"white",borderColor:"white !important"},"& .MuiInputBase-input":{color:"white",height:27}},error:Boolean(b[r]),helperText:b[r]},fieldType:s.fieldType,onChange:P},r)}))}),(0,f.jsx)(a.A,{variant:"contained",size:"large",color:"ternary",fullWidth:!0,onClick:()=>{const t=(e=>(0,c.l)(e,w))(A);t.hasError?k(t.errors):d.mutateAsync({request:{...A,otp:null===s||void 0===s?void 0:s.get("key")}}).catch((s=>{var t,n;e({title:"Error!",variant:"error",content:null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,onCancel:()=>r()})}))},sx:{height:"66px"},children:(0,f.jsx)(i.YP,{variant:"h5",fontWeight:600,children:"Submit"})})]})]})})})}}}]);