"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[811],{6980:(e,a,t)=>{t.d(a,{w:()=>v});var o=t(3230),n=t(4745),i=t(9325),l=t(6491),d=t(4877),r=(t(9051),t(2757)),s=t(1831),c=t(1575),u=t(5345),x=t(4433),h=t(4414);const v=e=>{var a,t,v,p,g,f;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.A,{flexDirection:"row",border:"1px solid #E5E5E5",borderRadius:"40px",alignItems:"center",height:24,children:[(0,h.jsx)(d.A,{iconName:"ChevronRight",iconProps:{width:28,height:20,fill:"black",transform:"rotate(180 0 0)",onClick:e.onLeftClick,cursor:"pointer"}}),(0,h.jsx)(n.A,{orientation:"vertical",sx:{borderColor:"#E5E5E5"}}),(0,h.jsxs)(o.A,{gap:.5,flexDirection:"row",alignItems:"center",paddingX:1,onClick:e.onCalenderClick,sx:{cursor:"pointer"},children:[(0,h.jsx)(d.A,{iconName:"Calender2"}),(0,h.jsx)(r.YP,{fontSize:"7px",children:null===(a=e.date)||void 0===a?void 0:a.get("year")})]}),(0,h.jsx)(n.A,{orientation:"vertical",sx:{borderColor:"#E5E5E5"}}),(0,h.jsx)(d.A,{iconName:"ChevronRight",iconProps:{width:28,height:20,fill:"black",onClick:e.onRightClick,cursor:"pointer"}})]}),e.show&&e.anchorEl&&(0,h.jsx)(i.x,{onClickAway:e.handleClose,children:(0,h.jsx)(l.A,{zIndex:100,position:"fixed",top:`${(null!==(t=null===(v=e.anchorEl)||void 0===v?void 0:v.getBoundingClientRect().top)&&void 0!==t?t:0)+20}px`,left:(null===(p=e.anchorEl)||void 0===p?void 0:p.getBoundingClientRect().left)-100-(null!==(g=e.position)&&void 0!==g&&g.left?null===(f=e.position)||void 0===f?void 0:f.left:0),boxShadow:"0px 2px 8px 0px #00000026",children:(0,h.jsx)(s.$,{dateAdapter:u.Y,children:(0,h.jsx)(x.j,{components:["DatePicker"],sx:{flexDirection:"column-reverse !important",overflow:"hidden",padding:"inherit"},children:(0,h.jsx)(c.$,{value:e.date,views:["year"],onChange:e.onChange,sx:{"& .MuiPickersLayout-actionBar":{display:"none"}}})})})})})]})}},5811:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var o=t(57),n=t(6980),i=t(4877),l=t(2757),d=t(331),r=t(9246),s=t(1920);var c=t(4857),u=t(3230),x=t(5277),h=t(824),v=t(9051),p=t.n(v),g=t(9950),f=t(9452),y=t(4414);const j=["Daily","Monthly","Quarterly"],m=()=>{var e,a,t,v,m,b,A,C,w,_,k,E,D,T,L,N,S,M,R,B,P,z,G,$,F,Y,Q,I,U,V,W,X,q,H,J,K,O,Z,ee,ae,te,oe,ne,ie,le,de,re,se;(0,d.o)(d.L.dashboard);const ce=(0,c.A)(),[ue,xe]=(0,g.useState)(null),[he,ve]=(0,g.useState)({date:p()(),type:"Daily"}),[pe,ge]=(0,g.useState)({date:p()(),type:"Daily"}),[fe,ye]=(0,g.useState)({date:p()(),type:"Daily"}),je=(0,s.useQuery)(["get_dashboard_count"],(()=>(0,r.A)({method:"GET",url:"/dashboard_restaurant_count/"}))),me=(be={filter:fe.type.toLowerCase(),calendar:"year",year:null===(e=fe.date)||void 0===e?void 0:e.get("year").toString(),month:null===(a=fe.date)||void 0===a?void 0:a.format("MMMM")},(0,s.useQuery)(["total_restaurantGraph_count",be],(()=>(0,r.A)({method:"GET",url:"/total_restaurantGraph_count/",params:be}))));var be;const Ae=(e=>(0,s.useQuery)(["total_userGraph_count",e],(()=>(0,r.A)({method:"GET",url:"/total_userGraph_count/",params:e}))))({filter:pe.type.toLowerCase(),calendar:"year",year:null===(t=pe.date)||void 0===t?void 0:t.get("year").toString(),month:null===(v=pe.date)||void 0===v?void 0:v.format("MMMM")}),Ce=(e=>(0,s.useQuery)(["total_transaction_admingraph",e],(()=>(0,r.A)({method:"GET",url:"/total_transaction_admingraph/",params:e}))))({filter:he.type.toLowerCase(),calendar:"year",year:null===(m=he.date)||void 0===m?void 0:m.get("year").toString()});return(0,y.jsxs)(u.A,{gap:2,flexGrow:"inherit",children:[(0,y.jsxs)(u.A,{gap:1,children:[(0,y.jsxs)(u.A,{flexDirection:"row",gap:12,children:[(0,y.jsxs)(u.A,{gap:2,flexDirection:"row",children:[(0,y.jsx)(o.Lc,{heading:"Total Investment",content:`\u20b9${null!==(b=null===(A=je.data)||void 0===A?void 0:A.data.data.total_investment)&&void 0!==b?b:"NA"}`}),(0,y.jsx)(o.Lc,{heading:"Total Profit",content:`\u20b9${null!==(C=null===(w=je.data)||void 0===w?void 0:w.data.data.total_profit)&&void 0!==C?C:"NA"}`})]}),(0,y.jsxs)(u.A,{gap:2,flexDirection:"row",children:[(0,y.jsx)(o.Lc,{heading:"Total Revenue",content:`\u20b9${null!==(_=null===(k=je.data)||void 0===k?void 0:k.data.data.total_revenue)&&void 0!==_?_:"NA"}`}),(0,y.jsx)(o.Lc,{heading:"Today\u2019s Revenue",content:`\u20b9${null!==(E=null===(D=je.data)||void 0===D?void 0:D.data.data.todays_revenue_count)&&void 0!==E?E:"NA"}`})]}),(0,y.jsxs)(u.A,{gap:2,flexDirection:"row",children:[(0,y.jsx)(o.Lc,{heading:"Total Restaurants",content:null!==(T=null===(L=je.data)||void 0===L?void 0:L.data.data.added_restaurant_count)&&void 0!==T?T:"NA"}),(0,y.jsx)(o.Lc,{heading:"Active Restaurant",content:null!==(N=null===(S=je.data)||void 0===S?void 0:S.data.data.active_restaurant_count)&&void 0!==N?N:"NA"})]})]}),(0,y.jsx)(u.A,{flexDirection:"row",gap:12,children:(0,y.jsxs)(u.A,{gap:2,flexDirection:"row",children:[(0,y.jsx)(o.Lc,{heading:"Total Users",content:null!==(M=null===(R=je.data)||void 0===R?void 0:R.data.data.total_users)&&void 0!==M?M:"NA"}),(0,y.jsx)(o.Lc,{heading:`New Users - ${p()(new Date).format("MMM")} ${p()(new Date).format("YY")}`,content:null!==(B=null===(P=je.data)||void 0===P?void 0:P.data.data.new_users)&&void 0!==B?B:"NA"})]})})]}),(0,y.jsxs)(u.A,{flexDirection:"row",gap:8,children:[(0,y.jsxs)(u.A,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",gap:2,children:[(0,y.jsxs)(u.A,{flexDirection:"row",justifyContent:"space-between",children:[(0,y.jsx)(l.YP,{fontWeight:600,variant:"subtitle1",children:"Total Transactions"}),(0,y.jsxs)(u.A,{gap:1,flexDirection:"row",children:[j.filter((e=>"Monthly"===e||"Daily"===e)).map((e=>(0,y.jsx)(x.A,{size:"small",label:e,sx:{fontSize:7,backgroundColor:he.type===e?"#E7EBFE":"transparent"},onClick:()=>ve({...he,type:e})},e))),(0,y.jsx)(n.w,{onRightClick:()=>ve({...he,date:p()(he.date).add(1,"year")}),onLeftClick:()=>ve({...he,date:p()(he.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:1}),onChange:e=>{ve({...he,date:e}),xe(null)},show:Boolean(ue)&&1===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:he.date}),(0,y.jsx)(i.A,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]})]}),(0,y.jsx)(f.A,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(z=null===(G=Ce.data)||void 0===G||null===($=G.data.data)||void 0===$?void 0:$.x_axis)&&void 0!==z?z:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.SN)(null!==(F=null===(Y=Ce.data)||void 0===Y||null===(Q=Y.data.data)||void 0===Q?void 0:Q.y_axis)&&void 0!==F?F:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Transactions",data:null!==(I=null===(U=Ce.data)||void 0===U||null===(V=U.data.data)||void 0===V?void 0:V.y_axis)&&void 0!==I?I:[]}],type:"area",height:365})]}),(0,y.jsx)(u.A,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",children:(0,y.jsxs)(u.A,{gap:2,children:[(0,y.jsxs)(u.A,{justifyContent:"space-between",flexDirection:"row",children:[(0,y.jsx)(l.YP,{fontWeight:600,variant:"subtitle1",children:"Total Users"}),(0,y.jsx)(i.A,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]}),(0,y.jsxs)(u.A,{justifyContent:"space-between",flexDirection:"row",children:[(0,y.jsx)(u.A,{gap:1,flexDirection:"row",children:j.map((e=>(0,y.jsx)(x.A,{size:"medium",label:e,sx:{fontSize:10,height:27,backgroundColor:pe.type===e?"#E7EBFE":"transparent"},onClick:()=>ge({...pe,type:e})},e)))}),(0,y.jsx)(n.w,{onRightClick:()=>ge({...pe,date:p()(pe.date).add(1,"year")}),onLeftClick:()=>ge({...pe,date:p()(pe.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:2}),onChange:e=>{ge({...pe,date:e}),xe(null)},show:Boolean(ue)&&2===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:pe.date})]}),(0,y.jsx)(f.A,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(W=null===(X=Ae.data)||void 0===X||null===(q=X.data.data)||void 0===q?void 0:q.x_axis)&&void 0!==W?W:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.SN)(null!==(H=null===(J=Ae.data)||void 0===J||null===(K=J.data.data)||void 0===K?void 0:K.y_axis)&&void 0!==H?H:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Users",data:null!==(O=null===(Z=Ae.data)||void 0===Z||null===(ee=Z.data.data)||void 0===ee?void 0:ee.y_axis)&&void 0!==O?O:[]}],type:"bar",height:321})]})}),(0,y.jsx)(u.A,{boxShadow:"0px 2px 8px 0px #00000026",padding:1.3,flexBasis:"33%",children:(0,y.jsxs)(u.A,{gap:2,children:[(0,y.jsxs)(u.A,{justifyContent:"space-between",flexDirection:"row",children:[(0,y.jsx)(l.YP,{fontWeight:600,variant:"subtitle1",children:"Total Restaurants"}),(0,y.jsx)(i.A,{iconName:"MoreVertical",iconProps:{height:24,fill:"black"}})]}),(0,y.jsxs)(u.A,{justifyContent:"space-between",flexDirection:"row",children:[(0,y.jsx)(u.A,{gap:1,flexDirection:"row",children:j.map((e=>(0,y.jsx)(x.A,{size:"medium",label:e,sx:{fontSize:10,height:27,backgroundColor:fe.type===e?"#E7EBFE":"transparent"},onClick:()=>ye({...fe,type:e})},e)))}),(0,y.jsx)(n.w,{onRightClick:()=>ye({...fe,date:p()(fe.date).add(1,"year")}),onLeftClick:()=>ye({...fe,date:p()(fe.date).subtract(1,"year")}),onCalenderClick:e=>xe({element:e.currentTarget,box:3}),onChange:e=>{ye({...fe,date:e}),xe(null)},show:Boolean(ue)&&3===(null===ue||void 0===ue?void 0:ue.box),handleClose:()=>xe(null),anchorEl:null===ue||void 0===ue?void 0:ue.element,date:fe.date,position:{left:100}})]}),(0,y.jsx)(f.A,{options:{chart:{zoom:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{categories:null!==(ae=null===(te=me.data)||void 0===te||null===(oe=te.data.data)||void 0===oe?void 0:oe.x_axis)&&void 0!==ae?ae:[]},yaxis:{labels:{formatter:e=>null===e||void 0===e?void 0:e.toFixed(0)},tickAmount:(0,h.SN)(null!==(ne=null===(ie=me.data)||void 0===ie||null===(le=ie.data.data)||void 0===le?void 0:le.y_axis)&&void 0!==ne?ne:[])},tooltip:{enabled:!0},colors:[ce.palette.primary.main]},series:[{name:"Total Restaurants",data:null!==(de=null===(re=me.data)||void 0===re||null===(se=re.data.data)||void 0===se?void 0:se.y_axis)&&void 0!==de?de:[]}],type:"bar",height:321})]})})]})]})},b=(0,g.memo)(m)}}]);