"use strict";(self.webpackChunkrich_penny_frontend=self.webpackChunkrich_penny_frontend||[]).push([[493],{7493:(e,a,n)=>{n.r(a),n.d(a,{default:()=>w});var t=n(3875),i=n(2030),o=n(5531),r=n(2389),l=n(6359),s=n(7155),d=n(2703),c=n(9860),u=n(2832),v=n(2769),m=n(8492),h=n(1872),p=n(8310),g=n(7216),x=n(7131),C=n(9536),y=n(4469),j=n(3604),f=n(6467),b=n(7313),A=n(6417);const k=["Veg Restaurant","Non Veg Restaurant","South Indian Restaurant","Chinese Restaurant"],Z=()=>{var e,a,n,i,d,p,g,x;const C=(0,c.Z)();(0,l.Q)(l.D.masterList);const{showSnackbar:y,hideSnackbar:j}=(0,o.Ds)(),f=(0,s.uk)(),k=(0,s.fC)(),Z=(0,s.Dv)(),w=(0,s.Zx)(),S=(0,s.Uh)(),T=(0,s.Nv)(),D=(0,s.Ny)(),I=(0,s.c)(),R=(0,s.p1)(),N=(0,s.Ff)(),L=(0,s.gZ)(),P=(0,s.QT)(),q=(0,s.Xo)(),H=(0,s.RZ)(),G=(0,s.yi)(),K=(0,s.Gq)(),B=(0,s.EW)(),F=(0,s.JO)(),[z,U]=(0,b.useState)(!1),[O,W]=(0,b.useState)(null),[M,Q]=(0,b.useState)(!1),V=e=>(a,n)=>{Q(!!n&&e)};return(0,A.jsxs)(u.Z,{gap:5,paddingBottom:3,children:[(0,A.jsx)(r.KH,{variant:"h5",sx:{color:C.palette.common.primaryGreyText},children:"All Master List"}),(0,A.jsxs)(u.Z,{gap:2,children:[(0,A.jsxs)(v.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Restaurant List"===M,onChange:V("Restaurant List"),children:[(0,A.jsx)(m.Z,{expandIcon:(0,A.jsx)(t.Z,{iconName:"CircleArrowDown"}),children:(0,A.jsx)(r.KH,{variant:"h6",sx:{color:C.palette.common.primaryGreyText},children:"Restaurant List"})}),(0,A.jsx)(h.Z,{children:(0,A.jsxs)(u.Z,{flexBasis:"25%",flexDirection:"row",gap:10,children:[(0,A.jsx)(E,{heading:"Restaurant Type",onAddClick:()=>U("Restaurant Type"),onEditItemClick:e=>W({item:e,type:"Restaurant Type"}),data:null===(e=f.data)||void 0===e?void 0:e.data.restaurantTypeData.map((e=>({label:e.type_name,value:e.id})))}),(0,A.jsx)(E,{heading:"Cuisine Type",onAddClick:()=>U("Cuisine Type"),onEditItemClick:e=>W({item:e,type:"Cuisine Type"}),data:null===(a=k.data)||void 0===a?void 0:a.data.cuisineData.map((e=>({label:e.cuisine_name,value:e.id})))})]})})]}),(0,A.jsxs)(v.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Sub Admin List"===M,onChange:V("Sub Admin List"),children:[(0,A.jsx)(m.Z,{expandIcon:(0,A.jsx)(t.Z,{iconName:"CircleArrowDown"}),children:(0,A.jsx)(r.KH,{variant:"h6",sx:{color:C.palette.common.primaryGreyText},children:"Sub Admin List"})}),(0,A.jsx)(h.Z,{children:(0,A.jsxs)(u.Z,{flexBasis:"25%",flexDirection:"row",gap:10,children:[(0,A.jsx)(E,{heading:"Agreement Period",onAddClick:()=>U("Agreement Period"),onEditItemClick:e=>W({item:e,type:"Agreement Period"}),data:null===(n=Z.data)||void 0===n?void 0:n.data.onbordingPeriodsData.map((e=>({label:e.period,value:e.id})))}),(0,A.jsx)(E,{heading:"Assign Location",onAddClick:()=>U("Assign Location"),onEditItemClick:e=>W({item:e,type:"Assign Location"}),data:null===(i=w.data)||void 0===i?void 0:i.data.onbordingLocationData.map((e=>({label:e.location_name,value:e.id})))})]})})]}),(0,A.jsxs)(v.Z,{TransitionProps:{unmountOnExit:!0},expanded:"Notifications"===M,onChange:V("Notifications"),children:[(0,A.jsx)(m.Z,{expandIcon:(0,A.jsx)(t.Z,{iconName:"CircleArrowDown"}),children:(0,A.jsx)(r.KH,{variant:"h6",sx:{color:C.palette.common.primaryGreyText},children:"Notifications"})}),(0,A.jsx)(h.Z,{children:(0,A.jsxs)(u.Z,{flexBasis:"25%",flexDirection:"row",gap:10,children:[(0,A.jsx)(E,{heading:"Notification Category",onAddClick:()=>U("Notification Category"),onEditItemClick:e=>W({item:e,type:"Notification Category"}),data:null===(d=S.data)||void 0===d?void 0:d.data.categoryData.map((e=>({label:e.message_category,value:e.msg_category_id})))}),(0,A.jsx)(E,{heading:"Document Rejection",onAddClick:()=>U("Document Rejection"),onEditItemClick:e=>W({item:e,type:"Document Rejection"}),data:null===(p=T.data)||void 0===p||null===(g=p.data.reject_reason_data)||void 0===g?void 0:g.map((e=>({label:e.reject_reason,value:e.id.toString()})))})]})})]})]}),(0,A.jsx)(_,{heading:null!==(x=null===O||void 0===O?void 0:O.type)&&void 0!==x?x:z,loading:D.isLoading||q.isLoading,updateItem:null===O||void 0===O?void 0:O.item,handleClose:()=>{U(!1),W(null)},onAddClick:(e,a)=>{switch(e){case"Restaurant Type":D.mutateAsync({request:{type_name:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),f.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Cuisine Type":I.mutateAsync({request:{cuisine_name:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),k.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Agreement Period":R.mutateAsync({request:{period:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),Z.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Assign Location":N.mutateAsync({request:{location:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),w.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Notification Category":L.mutateAsync({request:{message_category:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),S.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Document Rejection":P.mutateAsync({request:{reject_reason:a}}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),U(!1),S.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}))}},onUpdateClick:(e,a)=>{switch(e){case"Restaurant Type":q.mutateAsync({request:{new_type_name:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),f.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Cuisine Type":H.mutateAsync({request:{new_cuisine_name:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),k.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Agreement Period":G.mutateAsync({request:{new_period_name:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),Z.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Assign Location":K.mutateAsync({request:{new_location:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),w.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Notification Category":B.mutateAsync({request:{new_message_category:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),S.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}));break;case"Document Rejection":F.mutateAsync({request:{new_reject_reason:a.label},id:a.value}).then((e=>{var a;y({title:"Success!",variant:"sucess",content:null===(a=e.data)||void 0===a?void 0:a.message,onCancel:()=>j()}),W(null),S.refetch()})).catch((e=>{var a,n;y({title:"Error!",variant:"error",content:null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message,onCancel:()=>j()})}))}}})]})},w=(0,b.memo)(Z),E=(0,b.memo)((e=>{var a,n;const i=(0,c.Z)();return(0,A.jsxs)(u.Z,{gap:2,width:"25%",children:[(0,A.jsxs)(r.KH,{variant:"subtitle1",sx:{color:i.palette.common.primaryGreyText},children:[e.heading," (",null===(a=e.data)||void 0===a?void 0:a.length,")"]}),(0,A.jsx)(p.Z,{sx:{borderRadius:"8px !important",borderWidth:1,borderStyle:"solid",borderColor:"#DFE3ED",backgroundColor:"#F3F4F8",maxHeight:200,overflow:"auto"},children:null===(n=e.data)||void 0===n?void 0:n.map(((a,n)=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.ZP,{alignItems:"flex-start",secondaryAction:(0,A.jsx)(x.Z,{edge:"end",size:"small",onClick:n=>{var t;return null===(t=e.onEditItemClick)||void 0===t?void 0:t.call(e,a,n)},children:(0,A.jsx)(t.Z,{iconName:"Pen",iconProps:{width:20,height:20,fill:i.palette.common.primaryGreyText}})}),children:(0,A.jsx)(r.KH,{variant:"subtitle1",children:a.label})}),k.length!==n+1&&(0,A.jsx)(C.Z,{variant:"inset",component:"li",sx:{borderColor:"#DFE3ED",marginX:2}})]})))}),(null===e||void 0===e?void 0:e.onAddClick)&&(0,A.jsx)(d.Z,{size:"large",variant:"outlined",color:"inherit",startIcon:(0,A.jsx)(t.Z,{iconName:"Add",iconProps:{fill:i.palette.common.secondaryGreyText}}),sx:{borderColor:i.palette.common.secondaryGreyText,alignSelf:"self-start"},onClick:e.onAddClick,children:(0,A.jsx)(r.KH,{variant:"subtitle2",children:"Add New"})})]})})),_=e=>{const a=(0,c.Z)(),[n,t]=(0,b.useState)("");return(0,b.useEffect)((()=>{var a,n;t(null!==(a=null===(n=e.updateItem)||void 0===n?void 0:n.label)&&void 0!==a?a:"")}),[e.updateItem]),(0,b.useEffect)((()=>{e.heading||t("")}),[Boolean(e.heading)]),(0,A.jsxs)(y.Z,{onClose:e.handleClose,open:Boolean(e.heading),maxWidth:"sm",sx:{".MuiPaper-root":{width:"100%"}},children:[(0,A.jsx)(j.Z,{sx:{padding:4,paddingBottom:3},children:(0,A.jsxs)(r.KH,{variant:"h4",sx:{color:a.palette.common.primaryGreyText},children:[e.updateItem?"Update":"Add"," ",e.heading]})}),(0,A.jsxs)(f.Z,{sx:{display:"flex",flexDirection:"column",gap:6,padding:4},children:[(0,A.jsx)(i.Z,{fieldName:"add",value:n,fieldProps:{placeholder:"Type here to add",fullWidth:!0,size:"medium",sx:{".MuiInputBase-root":{borderRadius:"8px"}}},onChange:(e,a)=>{t(a)}}),(0,A.jsxs)(u.Z,{flexDirection:"row",gap:2,alignSelf:"self-end",children:[(0,A.jsx)(d.Z,{variant:"outlined",size:"large",sx:{width:166},onClick:e.handleClose,children:(0,A.jsx)(r.KH,{variant:"h5",sx:{color:a.palette.common.primaryGreyText},children:"Cancel"})}),e.updateItem?(0,A.jsx)(d.Z,{variant:"contained",size:"large",sx:{width:166},loading:e.loading,onClick:a=>{var t,i,o;return null===(t=e.onUpdateClick)||void 0===t?void 0:t.call(e,e.heading,{value:null!==(i=null===(o=e.updateItem)||void 0===o?void 0:o.value)&&void 0!==i?i:"",label:n},a)},children:(0,A.jsx)(r.KH,{variant:"h5",children:"Update"})}):(0,A.jsx)(d.Z,{variant:"contained",size:"large",sx:{width:166},loading:e.loading,onClick:a=>{var t;return null===(t=e.onAddClick)||void 0===t?void 0:t.call(e,e.heading,n,a)},children:(0,A.jsx)(r.KH,{variant:"h5",children:"Add"})})]})]})]})}}}]);